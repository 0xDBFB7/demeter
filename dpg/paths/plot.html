<!DOCTYPE HTMP PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Plotting individual paths</title>
    <link rel="stylesheet" href=../dpg.css />
    <link rel="stylesheet" href=../ppi.css />
    <meta http-equiv="Content-Type" content="text/html"; charset=iso-8859-15 />
    <meta name="robots" contents="all" />
  </head>

  <body>
    <div class=topbar>
  <div class=navbar>
  <a class=navhead href="../index.html">The Demeter Programmer' Guide</a>
  <table class=navtable>
    <tr>
      <td align=left>
        &laquo;<a class=navtable href="http://bruceravel.github.io/demeter/"><span class=programlink>DEMETER</span></a>&raquo; &nbsp;
        &laquo;<a class=navtable href="http://cars9.uchicago.edu/iffwiki/Ifeffit"><span class=programlink>IFEFFIT</span></a>&raquo; &nbsp;
        <!-- [&nbsp;<a class=navtable href="http://leonardo.phys.washington.edu/feff/wiki/index.php?title=FEFF_Documentation"><span class=programlink>FEFF</span></a>&nbsp;] &nbsp; -->
        &laquo;<a class=navtable href="http://xafs.org">xafs.org</a>&raquo; &nbsp;
	<!-- [&nbsp;<a class=navtable href="../demeter.pdf">PDF&nbsp;doc</a>&nbsp;] -->
      </td>
      <td align=right>
        Back: <a class=navtable href="../paths/pathparams.html" class="menu">Setting path parameters</a> &nbsp;&nbsp;
        &nbsp;&nbsp;
        Up: <a class=navtable href="../paths/index.html" class="menu">Scattering paths</a> &nbsp;&nbsp;
        Next: <a class=navtable href="../paths/existing.html" class="menu">Using an existing Feff calculation</a>      </td>
    </tr>
  </table>
  </div>
</div>

<div class=sidebar>
  <a href="../ceres.html"><img src=../../images/Isis-Sothis-Demeter_sm.jpg
    width=90% border=0 alt='[Demeter logo]'></a>
  <br />
  <a href="../index.html"  class="menu">Home</a><br />
<a href="../intro.html"  class="menu">Introduction</a><br />
<a href="../data/index.html"  class="menu">Importing data</a><br />
<a href="../mue/index.html"  class="menu">Processing mu(E) data</a><br />
<a href="../xanes/index.html"  class="menu">Analysis of XANES data</a><br />
<a href="../highlevel/index.html"  class="menu">High level actions for Demeter objects</a><br />
<a href="../atoms/index.html"  class="menu">Atoms</a><br />
<a href="../feff/index.html"  class="menu">Feff</a><br />
<a href="../paths/index.html"  class="menuselect">Scattering paths</a><br />
&nbsp;&#8618;&nbsp;<a href="../paths/paths.html"  class="menu">Calculating individual paths</a><br />
&nbsp;&#8618;&nbsp;<a href="../paths/semantic.html"  class="menu">Semantic path descriptions</a><br />
&nbsp;&#8618;&nbsp;<a href="../paths/pathparams.html"  class="menu">Setting path parameters</a><br />
&nbsp;&#8618;&nbsp;<span style="font-style: italic;">Plotting individual paths</span><br />
&nbsp;&#8618;&nbsp;<a href="../paths/existing.html"  class="menu">Using an existing Feff calculation</a><br /><a href="../gds/index.html"  class="menu">Guess/Def/Set parameters</a><br />
<a href="../fit/index.html"  class="menu">Fitting EXAFS data</a><br />
<a href="../perl/index.html"  class="menu">Using perl to create a fitting model</a><br />
<a href="../lgcv.html"  class="menu">Local guess parameters and the characteristic value</a><br />
<a href="../pathlike/index.html"  class="menu">Path-like objects</a><br />
<a href="../su.html"  class="menu">Structural Units</a><br />
<a href="../ui.html"  class="menu">User interfaces</a><br />
<a href="../output.html"  class="menu">Output formats</a><br />
<a href="../examples/index.html"  class="menu">Full examples</a><br />
</div>

<div class=contentarea>


<h1>
  Plotting individual paths
</h1>

<p>

Data, Path, and the various 
<a href="../pathlike/index.tt">path-like objects</a>
can all be plotted using a very consistent interface.  This is made
possible due to two attributes which are inherited by every object
from the base class -- <tt>data</tt> and
<tt>plottable</tt>.
</p>

<p>
The <tt>data</tt> attribute points to the Data
object which is used to provide parameters for the Fourier transforms.
For a data object, this attribute points to itself.  For example, to change
the lower bound of the Fourier transform range, you are
able to do something like this:
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="symbol">$any_plottable_object</span> <span class="operator">-&gt;</span> <span class="word">data</span> <span class="operator">-&gt;</span> <span class="word">kmin</span><span class="structure">(</span><span class="number">3</span><span class="structure">);</span>
</ol>

<p>

That construct is guaranteed to do what you want for any Data, Path or
path-like object. 
</p>

<p>
The <tt>plottable</tt> attribute is boolean and is
used to distinguish Data, Path, and path-like objects from other
object types in the <span class=program>DEMETER</span> system.  Trying to plot something
that cannot be plotted, like the sample below, will trigger an error
and probably cause your program to exit, but it certainly will not
behave in some strange and unexpected manner.
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="comment">## this will trigger an error:<br />
&nbsp;&nbsp;</span><span class="symbol">$gds_object</span> <span class="operator">-&gt;</span> <span class="word">plot</span><span class="structure">(</span><span class="single">'k'</span><span class="structure">);</span>
</ol>


<p>

ScatteringPath objects are not plottable objects (and, so, have their
<tt>plottable</tt> set to 0).  To visualize the
contribution from the scattering geometry described by a
ScatteringPath object, you must create a Path object.  Revisiting the
example of plotting the first few paths in a <span class=program>FEFF</span> calculation:
</p>


<pre class=olscript>
<ol class=perlblock>
<li><span class="comment">#!/usr/bin/perl
<li></span><span class="keyword">use</span> <span class="word">Demeter</span><span class="structure">;</span>
<li>
<li><span class="keyword">my</span> <span class="symbol">$data</span> <span class="operator">=</span> <span class="word">Demeter::Data::Prj</span> <span class="operator">-&gt;</span> <span class="word">new</span><span class="structure">(</span><span class="double">&quot;athena.prj&quot;</span><span class="structure">)</span> <span class="operator">-&gt;</span> <span class="word">record</span><span class="structure">(</span><span class="number">3</span><span class="structure">);</span>
<li>
<li><span class="keyword">my</span> <span class="symbol">$feff</span> <span class="operator">=</span> <span class="word">Demeter::Feff</span> <span class="operator">-&gt;</span> <span class="word">new</span><span class="structure">(</span><span class="word">file</span> <span class="operator">=&gt;</span> <span class="double">&quot;feff/feff.inp&quot;</span><span class="structure">);</span>
<li><span class="symbol">$feff</span> <span class="operator">-&gt;</span> <span class="word">set</span><span class="structure">(</span><span class="word">workspace</span> <span class="operator">=&gt;</span> <span class="double">&quot;feff/&quot;</span><span class="operator">,</span> <span class="word">screen</span> <span class="operator">=&gt;</span> <span class="number">0</span><span class="operator">,</span><span class="structure">);</span>
<li><span class="symbol">$feff</span> <span class="operator">-&gt;</span> <span class="word">potph</span><span class="structure">;</span>
<li><span class="symbol">$feff</span> <span class="operator">-&gt;</span> <span class="word">pathfinder</span><span class="structure">;</span>
<li>
<li><span class="keyword">my</span> <span class="symbol">@list_of_paths</span> <span class="operator">=</span> <span class="cast">@</span><span class="structure">{</span> <span class="symbol">$feff</span><span class="operator">-&gt;</span> <span class="word">pathlist</span> <span class="structure">};</span>
<li><span class="keyword">my</span> <span class="symbol">@paths</span><span class="structure">;</span>
<li><span class="keyword">foreach</span> <span class="structure">(</span><span class="symbol">@list_of_paths</span><span class="structure">[</span><span class="number">0</span><span class="operator">..</span><span class="number">5</span><span class="structure">])</span> <span class="structure">{</span>
<li>&nbsp;&nbsp;<span class="word">push</span> <span class="symbol">@paths</span><span class="operator">,</span> <span class="word">Demeter::Path</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="word">parent</span> <span class="operator">=&gt;</span> <span class="symbol">$feff</span><span class="operator">,</span>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">data</span>&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="symbol">$data</span><span class="operator">,</span>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">sp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="magic">$_</span><span class="structure">);</span>
<li><span class="structure">};</span>
<li><span class="comment">## plot data and paths together in R space
<li></span><span class="magic">$_</span> <span class="operator">-&gt;</span> <span class="word">plot</span><span class="structure">(</span><span class="single">'r'</span><span class="structure">)</span> <span class="word">foreach</span> <span class="structure">(</span><span class="symbol">$data</span><span class="operator">,</span> <span class="symbol">@paths</span><span class="structure">);</span>
</ol>
</pre>

<p>

Data is imported from an <span class=program>ATHENA</span> project file at line 4 (using
chained method calls!) and a <span class=program>FEFF</span> calculation is made between
lines 6 and 9.  Path objects are created at lines 14 to 16 in a loop
over the first few ScatteringPath objects from the <span class=program>FEFF</span>
calculation.  Finally at line 19, everything is plotted in R space.
</p>

<p>
Note that the syntax for plotting Data and Path objects is identical.
Of course, different things are required to get Data and Path objects
ready to be plotted, but those interface details are handled by 
<span class=program>DEMETER</span>.  For the programmer, the chore is easy.
</p>

</div>

<br />
<hr class=hide />
<hr class=bottomdivider />

<div class=bottombar>
  <div class=copyright>
  <table>
    <tr>
      <td colspan=2>
        <span class=program>DEMETER</span> is copyright &copy; 2009-2014 Bruce Ravel
        &mdash;
        This document is copyright &copy; 2014 Bruce Ravel
        <br />
      </td>
    </tr>
    <tr valign=middle>
      <td> 
           <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../images/somerights20.png" width="88" height="31" alt="" border="0" /></a> &nbsp;&nbsp;&nbsp;
      </td>
      <td>
  	This document is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">
  	The Creative Commons Attribution-ShareAlike License</a>.
  	<br />
  	If <span class=program>DEMETER</span> and this document are useful to you, please consider
  	<a href="http://creativecommons.org/support/">supporting The Creative Commons</a>.
      </td>
    </tr>
  </table>
</div>
</div>
  </body>
</html>