<!DOCTYPE HTMP PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Guess/Def/Set Parameters</title>
    <link rel="stylesheet" href=../dpg.css />
    <link rel="stylesheet" href=../ppi.css />
    <meta http-equiv="Content-Type" content="text/html"; charset=iso-8859-15 />
    <meta name="robots" contents="all" />
  </head>

  <body>
    <div class=topbar>
  <div class=navbar>
  <a class=navhead href="../index.html">The Demeter Programmer' Guide</a>
  <table class=navtable>
    <tr>
      <td align=left>
        &laquo;<a class=navtable href="http://bruceravel.github.io/demeter/"><span class=programlink>DEMETER</span></a>&raquo; &nbsp;
        &laquo;<a class=navtable href="https://github.com/newville/ifeffit"><span class=programlink>IFEFFIT</span></a>&raquo; &nbsp;
        <!-- [&nbsp;<a class=navtable href="http://leonardo.phys.washington.edu/feff/wiki/index.php?title=FEFF_Documentation"><span class=programlink>FEFF</span></a>&nbsp;] &nbsp; -->
        &laquo;<a class=navtable href="http://xafs.org">xafs.org</a>&raquo; &nbsp;
	<!-- [&nbsp;<a class=navtable href="../demeter.pdf">PDF&nbsp;doc</a>&nbsp;] -->
      </td>
      <td align=right>
        Back: <a class=navtable href="../paths/index.html" class="menu">Scattering paths</a> &nbsp;&nbsp;
        Down: <a class=navtable href="../gds/types.html" class="menu">Parameter types</a>
        &nbsp;&nbsp;
        Next: <a class=navtable href="../fit/index.html" class="menu">Fitting EXAFS data</a>      </td>
    </tr>
  </table>
  </div>
</div>

<div class=sidebar>
  <a href="../ceres.html"><img src=../../images/Isis-Sothis-Demeter_sm.jpg
    width=90% border=0 alt='[Demeter logo]'></a>
  <br />
  <a href="../index.html"  class="menu">Home</a><br />
<a href="../intro.html"  class="menu">Introduction</a><br />
<a href="../data/index.html"  class="menu">Importing data</a><br />
<a href="../mue/index.html"  class="menu">Processing mu(E) data</a><br />
<a href="../xanes/index.html"  class="menu">Analysis of XANES data</a><br />
<a href="../highlevel/index.html"  class="menu">High level actions for Demeter objects</a><br />
<a href="../atoms/index.html"  class="menu">Atoms</a><br />
<a href="../feff/index.html"  class="menu">Feff</a><br />
<a href="../paths/index.html"  class="menu">Scattering paths</a><br />
<span style="font-style: italic;">Guess/Def/Set parameters</span><br />
&nbsp;&#8618;&nbsp;<a href="../gds/types.html"  class="menu">Parameter types</a><br />
&nbsp;&#8618;&nbsp;<a href="../gds/reporting.html"  class="menu">Reporting on GDS parameters</a><br /><a href="../fit/index.html"  class="menu">Fitting EXAFS data</a><br />
<a href="../perl/index.html"  class="menu">Using perl to create a fitting model</a><br />
<a href="../lgcv.html"  class="menu">Local guess parameters and the characteristic value</a><br />
<a href="../pathlike/index.html"  class="menu">Path-like objects</a><br />
<a href="../su.html"  class="menu">Structural Units</a><br />
<a href="../ui.html"  class="menu">User interfaces</a><br />
<a href="../output.html"  class="menu">Output formats</a><br />
<a href="../examples/index.html"  class="menu">Full examples</a><br />
</div>

<div class=contentarea>


<h1>
  Guess/Def/Set Parameters
</h1>

<p>
In <span class=program>DEMETER</span>, every part of a fit is an object.  The same is true
of the parameters of the fit.  A new guess parameter is defined like
so:
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$new_param</span> <span class="operator">=</span> <span class="word">Demeter::GDS</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="word">gds</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="single">'guess'</span><span class="operator">,</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="single">'deltar'</span><span class="operator">,</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">mathexp</span> <span class="operator">=&gt;</span> <span class="float">0.0</span><span class="structure">);</span>
</ol>

<p>
Every GDS object requires specifying these three attributes.  The type
of parameter, denoted by the <tt>gds</tt>
attribute, is explained in detail in
<a href="types.html">the next section</a>.
The <tt>name</tt> is the string that identifies the
parameter and is used in the math expressions for path parameters and
other kinds of GDS objects.  In the case of a guess parameter, the 
<tt>mathexp</tt> is the initial value of the
parameter to be used at the start of the fit.  For other kinds of GDS
ojbects, the <tt>mathexp</tt> attributes might take
an actual math expression, i.e. a character string to be interpreted
and evaluated by <span class=program>IFEFFIT</span>.
</p>

<p>
<tt>gds</tt>,
<tt>name</tt>, and
<tt>mathexp</tt> are normal attributes of the GDS
object and can be treated like attributes of any object.  So, for
instance, if you wish to change the starting valule of the 
<tt>deltar</tt> parameter, you can do like so:
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$new_param</span> <span class="operator">=</span> <span class="word">mathexp</span><span class="structure">(</span><span class="float">0.025</span><span class="structure">);</span>
</ol>

<p>
Here is another example, this time for a def parameter that takes an
actual math expression:
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$new_param</span> <span class="operator">=</span> <span class="word">Demeter::GDS</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><span class="word">gds</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="single">'def'</span><span class="operator">,</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">=&gt;</span> <span class="single">'c'</span><span class="operator">,</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">mathexp</span> <span class="operator">=&gt;</span> <span class="single">'(a + b) * tan(angle/2) / (a - b)'</span><span class="structure">);</span>
</ol>

<hr class=hide />
<a name="simplifiedinterface">
<p>&nbsp;</p>
</a>

<h2>  Simplified interface</h2>

<p>
Although the syntax for the GDS object is identical to the syntax for
all other <span class=program>DEMETER</span> objects, it seems somehow more cumbersome in
this case -- particularly for anyone who goes back to the good ol'
days of writing <span class=file>feffit.inp</span> files.  As a
bit of syntactic sugar, the <span class=program>DEMETER</span> base class offers a method
that takes a character string as its sole argument.  That character
string is parsed the same way as a parameter definition in a 
<span class=file>feffit.inp</span> file.
</p>


<ol class=perlsample>
<br />
&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$new_param</span> <span class="operator">=</span> <span class="symbol">$any_object</span><span class="operator">-&gt;</span><span class="word">simpleGDS</span><span class="structure">(</span><span class="single">'guess deltar = 0.0'</span><span class="structure">);</span>
</ol>

<p>
The <tt>simpleGDS</tt> simply parses the string and
uses that to create a GDS object, which it then returns.  The normal
and simple syntax can be used interchangeably and for all GDS types.
They are completely equivalent.
</p>

</div>

<br />
<hr class=hide />
<hr class=bottomdivider />

<div class=bottombar>
  <div class=copyright>
  <table>
    <tr>
      <td colspan=2>
        <span class=program>DEMETER</span> is copyright &copy; 2009-2014 Bruce Ravel
        &mdash;
        This document is copyright &copy; 2014 Bruce Ravel
        <br />
      </td>
    </tr>
    <tr valign=middle>
      <td> 
           <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../images/somerights20.png" width="88" height="31" alt="" border="0" /></a> &nbsp;&nbsp;&nbsp;
      </td>
      <td>
  	This document is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">
  	The Creative Commons Attribution-ShareAlike License</a>.
  	<br />
  	If <span class=program>DEMETER</span> and this document are useful to you, please consider
  	<a href="http://creativecommons.org/support/">supporting The Creative Commons</a>.
      </td>
    </tr>
  </table>
</div>
</div>
  </body>
</html>