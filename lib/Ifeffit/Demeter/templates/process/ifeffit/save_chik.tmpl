{ # -*- ifm -*-
  # save chi(k) template
  #   {$S} returns the ifeffit group name
  #   {$D} returns the data group name
  #   {$D->get("parameter")} returns the value of that parameter
  # the filename and titles were passed to the template method
  # $titles should contain a string that Ifeffit will be able to
  # interpret as a set of title lines already set in Ifeffit.  one
  # common way of doing this is with a glob structure, like
  # $dem_data_*
  # example:
  #   $string = $self->template("process", "save_chik",
  #                             {filename=>$filename, titles=>"\$dem_data_*"});
}
##|
##| saving "{$S->label}" as chi(k)
set({$S}.chik  = {$S}.k*{$S}.chi,
    {$S}.chik2 = {$S}.k^2*{$S}.chi,
    {$S}.chik3 = {$S}.k^3*{$S}.chi )
write_data(file="{$filename}", ${$titles}, ${$D}_title_*,
           label="k chi chik chik2 chik3 win"
           {$S}.k, {$S}.chi, {$S}.chik, {$S}.chik2, {$S}.chik3, {$S}.win)
erase {$S}.chik, {$S}.chik2, {$S}.chik3
