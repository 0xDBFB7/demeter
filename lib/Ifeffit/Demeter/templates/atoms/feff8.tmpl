{ # -*- ifm -*-
  # generic atoms copyright information
  #   {$A->get("parameter")} returns an Atoms attribute
  #   {$A->out("parameter")} returns a formatted Atoms real-valued attribute
  #   {$C->get("parameter")} returns a Cell attribute
  #   {$C->out("parameter")} returns a formatted Cell real-valued attribute
}
<< >>* This Feff8 input file was generated by Demeter {$A->version}
 * Demeter written by and copyright (c) 2006-2007 Bruce Ravel

 *-----------------------------------------------------------------
 * These crystallographic data were used:
 *
 * space = {$A->get("space")}
 * a     = {$C->out("a")}    b    = {$C->out("b")}    c     = {$C->out("c")}
 * alpha = {$C->out("alpha")}    beta = {$C->out("beta")}    gamma = {$C->out("gamma")}
 * rmax  = {$A->out("rmax")}    core  = {$A->get("rmax")}
 * shift = 0 0 0  # fix me!
 * atoms
 *   el.     x           y           z        tag
{foreach my $l (split($/,$A->sites_list)) {$OUT .= " * ".$l.$/}} *
 *-----------------------------------------------------------------

{$A->titles}

 *  {$A->get("corel")} {uc($A->get("edge"))} edge energy = {$A->get("eedge")} eV
 EDGE      {uc($A->get("edge"))}
 S02       1.0

 *         pot    xsph  fms   paths genfmt ff2chi
 CONTROL   1      1     1     1     1      1
 PRINT     1      0     0     0     0      0

               *** ixc=0 means to use Hedin-Lundqvist
 *         ixc  [ Vr  Vi ]
 EXCHANGE  0

               *** Radius of small cluster for self-consistency calculation
               *** A sphere including 2 shells is a good choice
               *** l_scf = 0 for a solid, 1 for a molecule
 *         r_scf  [ l_scf   n_scf   ca ]
 SCF       4.0

               *** Upper limit of XANES calculation.
               *** This *must* be uncommented to make Feff calculate full
               *** multiple scattering rather than a path expansion
 *         kmax   [ delta_k  delta_e ]
 XANES     4.0

               *** Radius of cluster for Full Multiple Scattering calculation
               *** l_fms = 0 for a solid, 1 for a molecule
 *         r_fms     l_fms
 FMS     {$A->get("rss")}  0

               *** Energy grid over which to calculate
               *** DOS functions
 *         emin  emax   eimag
 LDOS      -30   20     0.1

               *** for EXAFS: RPATH {$A->get("rmax")} and uncomment the EXAFS card
 RPATH     0.1
 *EXAFS     20

 POTENTIALS
 *   ipot   Z  element        l_scmt  l_fms   stoichiometry
{$A->potentials_list("     %d     %-2d     %-10s   %d       %d       %s\n")}

 ATOMS                  * this list contains {$A->get("nclus")} atoms
 *   x          y          z     ipot tag           distance
{$A->cluster_list}
 END
