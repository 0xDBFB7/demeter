<!DOCTYPE HTMP PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Rebinning data groups</title>
    <link rel="stylesheet" href=../ab.css />
    <link rel="stylesheet" href=../ppi.css />
    <meta http-equiv="Content-Type" content="text/html"; charset=iso-8859-15 />
    <meta name="robots" contents="all" />
  </head>

  <body>
    <div class=topbar>
  <div class=navbar>
  <a class=navhead href="../index.html">The Athena Users' Guide</a>
  <table class=navtable>
    <tr>
      <td align=left>
        &laquo;<a class=navtable href="http://bruceravel.github.com/demeter/"><span class=programlink>DEMETER</span></a>&raquo; &nbsp;
        &laquo;<a class=navtable href="http://cars9.uchicago.edu/iffwiki/Ifeffit"><span class=programlink>IFEFFIT</span></a>&raquo; &nbsp;
        <!-- [&nbsp;<a class=navtable href="http://leonardo.phys.washington.edu/feff/wiki/index.php?title=FEFF_Documentation"></a>&nbsp;] &nbsp; -->
        &laquo;<a class=navtable href="http://xafs.org">xafs.org</a>&raquo; &nbsp;
	<!-- [&nbsp;<a class=navtable href="../demeter.pdf">PDF&nbsp;doc</a>&nbsp;] -->
      </td>
      <td align=right>
        Back: <a class=navtable href="../process/merge.html" class="menu">Merging</a> &nbsp;&nbsp;
        &nbsp;&nbsp;
        Up: <a class=navtable href="../process/index.html" class="menu">Data processing</a> &nbsp;&nbsp;
        Next: <a class=navtable href="../process/deg.html" class="menu">Deglitching and truncation</a>      </td>
    </tr>
  </table>
  </div>
</div>

<div class=sidebar>
  <a href="../pallas.html"><img src=../../images/pallas_athene_thumb.jpg
    width=90% border=0 alt='[Athena logo]'></a>
  <br />
  <a href="../index.html"  class="menu">Home</a><br />
<a href="../forward.html"  class="menu">Forward</a><br />
<a href="../intro.html"  class="menu">Introduction</a><br />
<a href="../import/index.html"  class="menu">Importing Data</a><br />
<a href="../bkg/index.html"  class="menu">Background Removal</a><br />
<a href="../plot/index.html"  class="menu">Plotting</a><br />
<a href="../ui/index.html"  class="menu">User Interface</a><br />
<a href="../params/index.html"  class="menu">Setting parameter values</a><br />
<a href="../output/index.html"  class="menu">Output files</a><br />
<a href="../process/index.html"  class="menuselect">Data processing</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/cal.html"  class="menu">Calibration</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/align.html"  class="menu">Alignment</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/merge.html"  class="menu">Merging</a><br />
&nbsp;&#8618;&nbsp;<span style="font-style: italic;">Rebinning</span><br />
&nbsp;&#8618;&nbsp;<a href="../process/deg.html"  class="menu">Deglitching and truncation</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/smooth.html"  class="menu">Smoothing</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/conv.html"  class="menu">Convolution and noise</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/deconv.html"  class="menu">Deconvolution</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/sa.html"  class="menu">Self-Absorption correction</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/pixel.html"  class="menu">Dispersive XAS</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/mee.html"  class="menu">Step function removal</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/series.html"  class="menu">Copy series</a><br />
&nbsp;&#8618;&nbsp;<a href="../process/sum.html"  class="menu">Data summation</a><br /><a href="../analysis/index.html"  class="menu">Data analysis</a><br />
<a href="../other/index.html"  class="menu">Other main window chores</a><br />
<a href="../examples/index.html"  class="menu">Worked examples</a><br />
</div>

<div class=contentarea>


<h1>
  Rebinning data groups
</h1>
<h2>
  Handling quick scan data 
</h2>

<p>

Some beamlines offer the option of slewing the monochromator
continuously from the beginning of the scan to the end.  A typical
implementation of this works by driving the mono at a given speed and
reading the measurement channels continuously.  The signal is
integrated for bins of time.  After each time interval, the integrate
signals are stored in a buffer.  At the end of the scan, the buffer is
dumped to disk.  At my old beamline
(<a href="http://mrcat.iit.edu">MRCAT, Sector 10 at the APS</a>),
a typical EXAFS scan measured in this mode takes under 3 minutes.
</p>

<p>
The drawback of this measurement mode (other than the generation of
tons of data that needs to be analyzed!) is that the data are vastly
over sampled.  The energy grid is typically 0.3 to 0.5 eV.  That is
fine in the edge region, but much too fine for the EXAFS region.
</p>


<div class=figure style="max-width: 764px; min-width: 7em;">
<a name=rebin>
<img src=../../images/rebin.png width=100%>
</a>
<p align=center>
The rebinning tool.
</p>
</div>

<p>

</p>

<p>
The tool shown above
allows you to specify a simple three-region grid.  Typically, the
pre-edge region is sparse in energy, the edge region is fine in
energy, and the EXAFS region is uniform in wavenumber.  The grid sizes
and the energies of the boundaries are entered into their entry boxes.
You can view the results of the rebinning by pressing the &ldquo;Plot data and rebinned data&rdquo; button.  The &ldquo;Plot data and rebinned data in k&rdquo; button displays the
two spectra as &chi;(k) using the background removal parameters of the
unbinned data.  Clicking the &ldquo;Make rebinned
data group&rdquo; button performs the rebinning and makes a new group.
This group gets placed in the group list and can be interacted with
just like any other group.
</p>

<p>
You can bulk process data by marking a number of groups and clicking
the &ldquo;Rebin marked data and make groups&rdquo;
button.  This may take a while, depending on how many groups are being
processed.
</p>

<p>
This deglitching algorithm is the same as the one used by
<a href="../import/preproc.html#rebinningquickscandata">the rebinning feature</a>
of the column selection dialog.
</p>



<div class=figure style="max-width: 644px; min-width: 7em;">
<a name=rebin_plot>
<img src=../../images/rebin_plot.png width=100%>
</a>
<p align=center>
Quick scan data that have been rebinned onto a normal EXAFS energy grid.
</p>
</div>

<p>

This uses a boxcar averaging to put the measured data on the chosen
grid.  This has the happy effect of cleaning up fairly noisy data, as
you can see in
the plot above.
</p>

</div>

<br />
<hr class=hide />
<hr class=bottomdivider />

<div class=bottombar>
  <div class=copyright>
  <table>
    <tr>
      <td colspan=2>
        <span class=program>DEMETER</span> is copyright &copy; 2009-2013 Bruce Ravel
        &mdash;
        This document is copyright &copy; 2013 Bruce Ravel
        <br />
      </td>
    </tr>
    <tr valign=middle>
      <td> 
           <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../images/somerights20.png" width="88" height="31" alt="" border="0" /></a> &nbsp;&nbsp;&nbsp;
      </td>
      <td>
  	This document is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">
  	The Creative Commons Attribution-ShareAlike License</a>.
  	<br />
  	If <span class=program>DEMETER</span> and this document are useful to you, please consider
  	<a href="http://creativecommons.org/support/">supporting The Creative Commons</a>.
      </td>
    </tr>
  </table>
</div>
</div>
  </body>
</html>