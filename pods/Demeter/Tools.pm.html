<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Demeter::Tools</title>
<link rel="stylesheet" type="text/css" href="../podstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <script type="text/javascript">

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  </script></head>
<body>
<div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter-Tools
</div>
<div>
<a href="../src/Demeter/Tools.pm">Source</a>
</div>


<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Index</h3>
<ul>
	<li><a href="#NAME">NAME</a></li>
	<li><a href="#VERSION">VERSION</a></li>
	<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
	<li><a href="#METHODS">METHODS</a></li>
	<li><a href="#CONFIGURATION_AND_ENVIRONMENT">CONFIGURATION AND ENVIRONMENT</a></li>
	<li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
	<li><a href="#BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS</a></li>
	<li><a href="#AUTHOR">AUTHOR</a></li>
	<li><a href="#LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>
<hr />
<!-- INDEX END -->

<h1 id="NAME">NAME <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Demeter::Tools - Utility methods for the Demeter class</p>

<h1 id="VERSION">VERSION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>This documentation refers to Demeter version 0.9.19.</p>

<h1 id="DESCRIPTION">DESCRIPTION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>This module contains a number of methods that work better (in Bruce's
opinion) as class methods than as object methods.</p>

<h1 id="METHODS">METHODS <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<dl>
	<dt><code>simpleGDS</code></dt>
		<dd><p>This is syntactic sugar for the GDS object constructor.  The following are
equivalent:</p></dd>
<dd><pre>  $gdsobject = Demeter::GDS -&gt;
                  new(type    =&gt; 'guess',
		      name    =&gt; 'alpha',
		      mathexp =&gt; 0,
		     );
  #
  $gdsobject = $demeter_object -&gt; simpleGDS(&quot;guess alpha = 0&quot;);

</pre></dd>		<dd><p>The text string that is the argument for this wrapper is parsed
identically to how a guess parameter in a <cite>feffit.inp</cite> file is
parsed.</p></dd>
	<dt><code>distance</code></dt>
		<dd><p>This returns the Cartesian distance between two points.</p></dd>
<dd><pre>   my $d = distance(@point1, @point2);

</pre></dd>		<dd><p>Each of the arrays passed to this function must be exactly three
elements long and are assumed to contain the x, y, and z Cartesian
coordinates, in that order.</p></dd>
	<dt><code>now</code></dt>
		<dd><p>This returns a string with the current date and time in a convenient,
human-readable format.</p></dd>
<dd><pre>   print &quot;The time is: &quot;, $demeter_object -&gt; now, $/;

</pre></dd>	<dt><code>howlong</code></dt>
		<dd><p>This returns a string used for indicating an amount of elapsed time.
The argument is a DataTime object made at the beginning of the event
whose elapsed time is being measured.</p></dd>
<dd><pre>   my $start = DateTime-&gt;now( time_zone =&gt; 'floating' );
   #  ... do something
   my $text = Demeter-&gt;howlong($start);

</pre></dd>		<dd><p>returns</p></dd>
<dd><pre>   That took NN seconds.

</pre></dd>		<dd><p>It can be customized:</p></dd>
<dd><pre>   my $text = Demeter-&gt;howlong($start, &quot;Your fit&quot;);

</pre></dd>		<dd><p>returns</p></dd>
<dd><pre>   Your fit took NN seconds.

</pre></dd>		<dd><p>For something longer than a minute, it would return</p></dd>
<dd><pre>   Your fit took MM minutes and NN seconds.

</pre></dd>	<dt><code>environment</code></dt>
		<dd><p>This returns a string showing the version numbers of Demeter and perl,
and the identifier string for your operating system.</p></dd>
<dd><pre>   print &quot;You are running: &quot;, $demeter_object -&gt; environment, $/;

</pre></dd>	<dt><code>who</code></dt>
		<dd><p>This makes a halfhearted attempt to figure out who you are.  On a unix
machine, it returns a concatination of the USER and HOST environment
variables.  On Windows it currently returns the fairly stupid
&quot;you@your.computer&quot;.</p></dd>
<dd><pre>   print &quot;You are: &quot;, $demeter_object -&gt; who, $/;

</pre></dd><dd>


</dd>	<dt><code>check_parens</code></dt>
		<dd><p>Return 0 if a string has matching round braces (parentheses).  A positive
(negative) return value indicates the number of excess open (close) round
braces.  This can be used a boolean check on a string.</p></dd>
<dd><pre>  $is_mismatched = $demeter_object-&gt;check_parens($string);

</pre></dd>		<dd><p>This only matches round braces.  It ignores square, curly, or angle braces,
none of which serve a purpose in Ifeffit math expressions.</p></dd>
	<dt><code>is_windows</code></dt>
		<dd><p>Return true if running on a Windows machine.</p></dd>
<dd><pre>  my $is_win = $demeter_object -&gt; is_windows;

</pre></dd>	<dt><code>is_osx</code></dt>
		<dd><p>Return true if running on a Macintosh OSX machine.</p></dd>
<dd><pre>  my $is_mac = $demeter_object -&gt; is_osx;

</pre></dd>	<dt><code>halflength</code></dt>
		<dd><p>Given a list of references to arrays -- each of which contains the x,
y, and z coordinates of an atom -- return the half length of the
path. The half length is the sum of the individual legs divided by
2. The first item in the list is assumed to the absorber at and is
tacked onto the end of the list to close the path.</p></dd>
<dd><pre>  my $hl = $demeter_object -&gt;
         halflength(\@coords1, \@coords2, ... \@coordsN);

</pre></dd>	<dt><code>euclid</code></dt>
		<dd><p>Return the greatest common denominator of two numbers.</p></dd>
<dd><pre>  my $gcd = $demeter_object-&gt;euclid(1071, 462);
  ## $gcd is 21

</pre></dd>		<dd><p>This is used by Demeter::Atoms to determine stoichiometry for the
feff8 input file's potentials list.</p></dd>
	<dt><code>fract</code></dt>
		<dd><p>Returns a fraction of rational numbers given an input float,using 5
significant digits beyond the decimal.</p></dd>
<dd><pre>  my $frac = $demeter_object -&gt; fract(0.5);
  ## will print as &quot;1/2&quot;

</pre></dd>	<dt><code>slurp</code></dt>
		<dd><p>Slurp a file into a scalar.</p></dd>
<dd><pre>  my $string = $demeter_object -&gt; slurp('/path/to/file');

</pre></dd>	<dt><code>write_file</code></dt>
		<dd><p>Dump a string into a file.</p></dd>
<dd><pre>  $demeter_object -&gt; write_file($file, $string);

</pre></dd>	<dt><code>randomstring</code></dt>
		<dd><p>Return a rendom character string using  <code>random_string</code> from <a href="http://search.cpan.org/perldoc?String%3A%3ARandom">String::Random</a>.</p></dd>
<dd><pre>  $string = Demeter-&gt;randomstring($length);

</pre></dd>		<dd><p>The resulting string will be <code>$length</code> characters long.  If not
specified, it will be 6 characters long.</p></dd>
	<dt><code>Dump</code></dt>
		<dd><p>This is just a wrapper around <a href="http://search.cpan.org/perldoc?Data%3A%3ADump%3A%3AColor">Data::Dump::Color</a>, <a href="http://search.cpan.org/perldoc?Data%3A%3ADump">Data::Dump</a> or
<a href="http://search.cpan.org/perldoc?Data%3A%3ADumper">Data::Dumper</a>, whichever is installed.  Pass it a reference and it
will be pretty-printed;</p></dd>
<dd><pre>  print $any_object -&gt; Dump(\@some_array);

</pre></dd>	<dt><code>trace</code></dt>
		<dd><p>Print an ANSI-colorized stack trace to STDOUT from any location.</p></dd>
<dd><pre>  $any_object -&gt; trace;

</pre></dd>	<dt><code>pjoin</code></dt>
		<dd><p>Write stuff to the screen in an ugly but easy to read manner.</p></dd>
<dd><pre>  Demeter-&gt;pjoin($this, $that, @and_the_other);

</pre></dd>	<dt><code>Touch</code></dt>
		<dd><p>This is a wrapper around the <code>touch</code> method from <a href="http://search.cpan.org/perldoc?File%3A%3ATouch">File::Touch</a>.</p></dd>
<dd><pre>  Demeter-&gt;Touch($some_file);

</pre></dd>	<dt><code>feffdocversion</code></dt>
		<dd><p>This method attempts to determine the appropriate version of the Feff
document to show.  If the version is not specified, it will be
determined from the value of the <code>feff-&gt;feff-executable</code>
configuration parameter.</p></dd>
<dd><pre>  $version = Demeter-&gt;feffdocversion;

</pre></dd>		<dd><p>The only two options currently supported are 6 and 9.</p></dd>
	<dt><code>feffdoc</code></dt>
		<dd><p>This returns the URL of the main page of the Feff documentation for
either version 6 or 9, depending on which is requested or determined
via the <code>feffdocversion</code> method.</p></dd>
<dd><pre>  $url = Demeter-&gt;feffdoc;

</pre></dd>	<dt><code>feffcardpage</code></dt>
		<dd><p>This returns the URL for the page documenting a specific card in the
Feff6 or Feff9 input file.</p></dd>
<dd><pre>  $url = Demeter-&gt;feffcardpage($card, $version);

</pre></dd>		<dd><p>Specifying the Feff version is optional.  If not specified, it will
use the value returned by the <code>feffdocversion</code> method.</p></dd>
</dl>



<h1 id="CONFIGURATION_AND_ENVIRONMENT">CONFIGURATION AND ENVIRONMENT <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>See <a href="Config.pm.html">Demeter::Config</a> for a description of the configuration system.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>The dependencies of the Demeter system are listed in the
<cite>Build.PL</cite> file.</p>

<h1 id="BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<ul>
	<li>The <code>who</code> method should poke at the registry on Windows.</li>
	<li>The <code>fract</code> method should define what a small integer is and return a
decimal representation when the ratio is not of small numbers.</li>
</ul>

<p>Please report problems to the Ifeffit Mailing List
(<a href="http://cars9.uchicago.edu/mailman/listinfo/ifeffit/">http://cars9.uchicago.edu/mailman/listinfo/ifeffit/</a>)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>The euclid method was swiped from Math::Numbers by David Moreno Garza
and is Copyright (C) 2007 and is licensed like Perl itself.</p>

<p>Bruce Ravel (bravel AT bnl DOT gov)</p>

<p><a href="http://bruceravel.github.io/demeter/">http://bruceravel.github.io/demeter/</a></p>




<h1 id="LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Copyright (c) 2006-2014 Bruce Ravel (bravel AT bnl DOT gov). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself. See <a href="http://search.cpan.org/perldoc?perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>


</div><div class="footer">generated by <a href="http://search.cpan.org/perldoc?Pod%3A%3AProjectDocs">Pod::ProjectDocs</a></div></body>
</html>
