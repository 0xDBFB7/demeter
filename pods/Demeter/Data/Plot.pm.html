<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>Demeter::Data::Plot &mdash; Demeter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="../../podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter::Data::Plot
</div>
<div>

<a href="../../src/Demeter/Data/Plot.pm">Source</a>

</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#METHODS">METHODS</a></li>
  <li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
  <li><a href="#BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Demeter::Data::Plot - Data plotting methods for Demeter</p>

<h1 id="VERSION">VERSION</h1>

<p>This documentation refers to Demeter version 0.9.26.</p>

<h1 id="METHODS">METHODS</h1>

<dl>

<dt id="plot"><code>plot</code></dt>
<dd>

<p>This method generates a plot of the data using its attributes and the attributes of the plot object. Because Demeter keeps track of what processing chores need to be done, you can be sure that the object being plotted will always be brought up-to-date with respect to background removal and Fourier transforms before plotting.</p>

<pre><code>  $dataobject -&gt; plot;
  $pathobject -&gt; plot;</code></pre>

<p>The value of the <code>space</code> attribute of the Plot object is used to determine the plotting space, but that can be overridden with the optional argument. These do the same thing:</p>

<pre><code>  $dataobject -&gt; po -&gt; space(&#39;q&#39;);
  $dataobject -&gt; plot;
    ## and
  $dataobject -&gt; plot(&#39;q&#39;);</code></pre>

<p>This method returns a reference to invoking object, so method calls can be chained:</p>

<pre><code>  $dataobject -&gt; plot -&gt; plot_window;</code></pre>

<p>The <code>space</code> can be any of the following and is case insensitive:</p>

<dl>

<dt id="E">E</dt>
<dd>

<p>Make the plot in energy.</p>

</dd>
<dt id="k">k</dt>
<dd>

<p>Make the plot of chi(k) in wavenumber.</p>

</dd>
<dt id="k123">k123</dt>
<dd>

<p>Make the plot of chi(k) in wavenumber with k-weightings of 1, 2, and 3 scaled and offset.</p>

</dd>
<dt id="r">r</dt>
<dd>

<p>Make the plot of chi(R) in distance.</p>

</dd>
<dt id="rmr">rmr</dt>
<dd>

<p>Make a stacked plot of the magnitude and real part of chi(R). This is a particularly nice plot to make after a fit.</p>

</dd>
<dt id="Rk">Rk</dt>
<dd>

<p>Make a multiplot with chi(k) on the top and an Rmr plot on the bottom. This type of plot should only be made after a fit is performed as the template <b>will</b> attempt to plot the fit part of the data. This plot type benefits by a taller plot window than Gnuplot&#39;s default.</p>

</dd>
<dt id="r123">r123</dt>
<dd>

<p>Make the plot of chi(R) in distance with k-weightings of 1, 2, and 3 scaled and offset.</p>

</dd>
<dt id="q">q</dt>
<dd>

<p>Make the plot of chi(q) (back-transformed chi(k)) in wavenumber.</p>

</dd>
<dt id="kq">kq</dt>
<dd>

<p>Make the plot of chi(k) along with the real part of chi(q) in wavenumber.</p>

</dd>
</dl>

<p>The <code>k123</code>, <code>r123</code>, <code>rmr</code>, and <code>kq</code> plots are good single data set plot types, while the other forms are more appropriate for multiple data set plots.</p>

<p>The <code>k123</code>, <code>r123</code>, <code>rmr</code>, and <code>kq</code> plotting options require using the syntax for which the argument is passed ot the <code>plot</code> method. That is, you should specify:</p>

<pre><code>  $data -&gt; plot(&#39;k123&#39;);</code></pre>

</dd>
<dt id="stack"><code>stack</code></dt>
<dd>

<p>Make a stacked plot out of the caller and a supplied list of Data, Path, VPath, or SSPath objects.</p>

<pre><code>  $data -&gt; po -&gt; stackjump(0.3);
  $data -&gt; stack(@list_of_data_and_paths);</code></pre>

<p>The value of the <code>space</code> attribute of the Plot object is used to determine the plotting space and, unlike the <code>plot</code> method, that cannot be overridden in the argument list.</p>

<p>This uses the <code>stackjump</code> attribute of the Plot object for the spacing between traces and it stacks downward. To stack upward, set <code>stackjump</code> to a negative value.</p>

<p>If the caller is also in the argument list, it will only be plotted once. That is, these do the same thing:</p>

<pre><code>   $a -&gt; stack($b, $c, $d);
    ## and
   $a -&gt; stack($a, $b, $c, $d);</code></pre>

</dd>
<dt id="plot_window"><code>plot_window</code></dt>
<dd>

<p>Plot the Fourier transform window in k or R space.</p>

<pre><code>  $dataobject-&gt;plot_window;
  $pathobject-&gt;plot_window;</code></pre>

<p>The value of the <code>space</code> attribute of the Plot object is used to determine the plotting space, but that can be overridden with the optional argument. These do the same thing:</p>

<pre><code>  $dataobject -&gt; po -&gt; space(&#39;k&#39;);
  $dataobject -&gt; plot_window;
    ## and
  $dataobject -&gt; plot_window(&#39;k&#39;);</code></pre>

</dd>
<dt id="running"><code>running</code></dt>
<dd>

<p>Compute the running R-factor for the fit. This is running sum of the misfit in the sapce being plotted. It is related to, but not the same as, the R-factor of the fit as it is computed on the fly for the current plotting conditions and is scaled to plot nicely in the current plot.</p>

<pre><code>  $dataobject -&gt; running($space);</code></pre>

<p>The array is then stored in the same backend group as the data itself but with a suffix of <code>krun</code>, <code>rrun</code>, or <code>qrun</code> depending on when space is being plotted.</p>

<p>In k-space, the running R-factor is the sum of the squares of the difference between the k-weighted data and fit. In R- and q-space, it is the sum in quadrature of the differneces of the real and imaginary parts. The scaling is then chosen so that the plot is zero below the Fourier transform (k or q) of fitting range (R) and is the same height as the plotted window function above the FT or fitting range.</p>

</dd>
<dt id="plot_marker"><code>plot_marker</code></dt>
<dd>

<p>Mark an arbitrary point in the data.</p>

<pre><code>  $data -&gt; plot_marker($part, $x);</code></pre>

<p>or</p>

<pre><code>  $data -&gt; plot_marker($part, \@x);</code></pre>

<p>The <code>$part</code> is the suffix of the array to be marked, for example &quot;xmu&quot;, &quot;der&quot;, or &quot;chi&quot;. The second argument can be a point to mark or a reference to a list of points.</p>

</dd>
<dt id="default_k_weight"><code>default_k_weight</code></dt>
<dd>

<p>This returns the value of the default k-weight for a Data or Path object. A Data object can have up to four k-weights associated with it: 1, 2, 3, and an arbitrary value. This method returns the arbitrary value (if it is defined) or the lowest of the three remaining values (if they are defined). If none of the four are defined, this returns 1. For a Path object, the associated Data object is used to determine the return value. An exception is thrown using Carp::carp for other objects and 1 is returned.</p>

<pre><code>    $kw = $data_object -&gt; default_k_weight;</code></pre>

</dd>
<dt id="suffix"><code>suffix</code></dt>
<dd>

<p>A utility method that returns the suffix of the data array that will be plotted based on the current settings in the Plot object. This is used in templates.</p>

</dd>
</dl>

<h1 id="DEPENDENCIES">DEPENDENCIES</h1>

<p>Demeter&#39;s dependencies are in the <i>Build.PL</i> file.</p>

<p><a href="http://metacpan.org/module/Moose">Moose</a> is the basis of Demeter. This module is implemented as a role and used by the <a href="../Data.pm.html">Demeter::Data</a> object. I feel obloged to admit that I am using Moose roles in the most trivial fashion here. This is mostly an organization tool to keep modules small and methods organized by common functionality.</p>

<h1 id="BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</h1>

<p>Please report problems to the Ifeffit Mailing List (<a href="http://cars9.uchicago.edu/mailman/listinfo/ifeffit/">http://cars9.uchicago.edu/mailman/listinfo/ifeffit/</a>)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Bruce Ravel, <a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a></p>

<p><a href="http://bruceravel.github.io/demeter/">http://bruceravel.github.io/demeter/</a></p>

<h1 id="LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</h1>

<p>Copyright (c) 2006-2018 Bruce Ravel (<a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a>). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See <a href="http://metacpan.org/module/perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

