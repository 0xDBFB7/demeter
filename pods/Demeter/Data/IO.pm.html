<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>Demeter::Data::IO &mdash; Demeter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="../../podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter::Data::IO
</div>
<div>

<a href="../../src/Demeter/Data/IO.pm">Source</a>

</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a></li>
  <li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
  <li><a href="#BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Demeter::Data::IO - Data Input/Output methods for Demeter</p>

<h1 id="VERSION">VERSION</h1>

<p>This documentation refers to Demeter version 0.9.26.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>  use Demeter;
  my $data  = Demeter::Data -&gt; new(file=&gt;&#39;t/fe.060&#39;, @common_attributes);
  $data-&gt;save(&#39;xmu&#39;, &#39;data.xmu&#39;);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This Demeter::Data role contains methods for dealing with data input/output.</p>

<h1 id="METHODS">METHODS</h1>

<dl>

<dt id="save"><code>save</code></dt>
<dd>

<p>This method is a wrapper around command generators for saving the various kinds of output files. The syntax is</p>

<pre><code>  $dataobject -&gt; save($type, $filename);</code></pre>

<p>The <code>$type</code> argument is one of <code>xmu</code>, <code>norm</code>, <code>chi</code>, <code>r</code>, <code>q</code>, <code>fit</code>, and <code>bkgsub</code>. The second argument is the output file name.</p>

<p>This method will automatically generate useful headers for the output data file. These headers will include the title lines associated with the data and the text of the <code>fit_parameter_report</code> method.</p>

<dl>

<dt id="xmu"><code>xmu</code></dt>
<dd>

<p>This is a seven column file of energy, mu(E), bkg(E), pre_edge(E), post_edge(E), first derivative of mu(E), and second derivative of mu(E).</p>

</dd>
<dt id="norm"><code>norm</code></dt>
<dd>

<p>This is a seven column file of energy, norm(E), normalized bkg(E), flattened mu(E), flattened bkg(E), first derivative of norm(E), and second derivative of norm(E).</p>

</dd>
<dt id="chi"><code>chi</code></dt>
<dd>

<p>This is a five column file of k, chi(k), k*chi(k), k^2*chi(k), k^3*chi(k), and the window in k.</p>

</dd>
<dt id="r"><code>r</code></dt>
<dd>

<p>This is a six column file of R, real part of chi(r), imaginary part of chi(r), magnitude of chi(r), phase of chi(r), and the window in R. The current value of kweight of the Plot object is used to generate chi(R).</p>

</dd>
<dt id="q"><code>q</code></dt>
<dd>

<p>This is a seven column file of q, real part of chi(q), imaginary part of chi(q), magnitude of chi(q), phase of chi(q), the window in k, the k-weighted chi(k) used in the Fourier transform. The current value of kweight of the Plot object is used to generate chi(R).</p>

</dd>
<dt id="fit"><code>fit</code></dt>
<dd>

<p>This is one of a variety of five or six column files. The default fit file contains k, chi(k), the fit in k, the residual in k, the background in k (if the background was fit), and the window. When passing an additional parameter, the fit file can be written out in another way.</p>

<pre><code>    $dataobject -&gt; save(&#39;fit&#39;, &#39;my.fit&#39;, $type);</code></pre>

<p>If <code>$type</code> is left off, the default, un-k-weighted fit file is written. The other options for <code>$type</code> are:</p>

<pre><code>    k1 k2 k3 rmag rre rim qmag qre qim</code></pre>

<p>The first three export k-weighted data. The next three are for the magnitude, real, or imaginary parts of chi(R). The final three are for the magnitude, real, or imaginary parts of chi(q).</p>

<p>This will also accept the the k-, R-, and q-space arguments in the format accepted the <code>save_many</code> method.</p>

</dd>
<dt id="bkgsub"><code>bkgsub</code></dt>
<dd>

<p>Background subtracted chi(k) data....</p>

</dd>
</dl>

</dd>
<dt id="save_many"><code>save_many</code></dt>
<dd>

<p>This method writes out a multi-column file containing a specified array from many Data objects.</p>

<pre><code>  $dataobjects[0] -&gt; save_many($outfile, $which, @dataobjects);</code></pre>

<p>The first argument is a file name for the output file containing the data columns. The second argument is one of:</p>

<pre><code>  xmu norm der sec nder nsec
  chi chik chik2 chik3
  chir_mag chir_re chir_im chir_pha
  chiq_mag chiq_re chiq_im chiq_pha</code></pre>

<p>These are followed by the list of data groups to write to the file. The refering object will be added to the front of the list if it is not already included in the list.</p>

<p>The arguments used with the <code>save</code> method when saving a fit are also accepted for k-, R-, and q-space.</p>

</dd>
<dt id="read_fit"><code>read_fit</code></dt>
<dd>

<p>Reimport a fit written out by a previous instance of Demeter....</p>

</dd>
<dt id="title_glob"><code>title_glob</code></dt>
<dd>

<p>This pushes the title generated by the <code>data_parameter_report</code> or <code>fit_parameter_report</code> methods into the backend which can then be accessed by a title glob.</p>

<pre><code>   $object -&gt; title_glob($name, $which)</code></pre>

<p><code>$name</code> is the base of the name of the string scalars in the backend and <code>$which</code> is one of <code>e</code>, <code>n</code>, <code>k</code>, <code>r</code>, <code>q</code>, or <code>f</code> depending on whether you wish to generate title lines for mu(E), normalized mu(E), chi(k), chi(R), chi(q), or a fit.</p>

</dd>
</dl>

<h1 id="DEPENDENCIES">DEPENDENCIES</h1>

<p>Demeter&#39;s dependencies are in the <i>Build.PL</i> file.</p>

<p><a href="http://metacpan.org/module/Moose">Moose</a> is the basis of Demeter. This module is implemented as a role and used by the <a href="../Data.pm.html">Demeter::Data</a> object. I feel obloged to admit that I am using Moose roles in the most trivial fashion here. This is mostly an organization tool to keep modules small and methods organized by common functionality.</p>

<h1 id="BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</h1>

<p>Please report problems to the Ifeffit Mailing List (<a href="http://cars9.uchicago.edu/mailman/listinfo/ifeffit/">http://cars9.uchicago.edu/mailman/listinfo/ifeffit/</a>)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Bruce Ravel, <a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a></p>

<p><a href="http://bruceravel.github.io/demeter/">http://bruceravel.github.io/demeter/</a></p>

<h1 id="LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</h1>

<p>Copyright (c) 2006-2018 Bruce Ravel (<a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a>). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See <a href="http://metacpan.org/module/perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

