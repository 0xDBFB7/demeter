<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Demeter::ScatteringPath::Rank</title>
<link rel="stylesheet" type="text/css" href="../../podstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <script type="text/javascript">

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  </script></head>
<body>
<div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter-ScatteringPath-Rank
</div>
<div>
<a href="../../src/Demeter/ScatteringPath/Rank.pm">Source</a>
</div>


<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Index</h3>
<ul>
	<li><a href="#NAME">NAME</a></li>
	<li><a href="#VERSION">VERSION</a></li>
	<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
	<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
	<li><a href="#TESTS">TESTS</a></li>
	<li><a href="#METHODS">METHODS</a></li>
	<li><a href="#CONFIGURATION">CONFIGURATION</a></li>
	<li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
	<li><a href="#BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS</a></li>
	<li><a href="#AUTHOR">AUTHOR</a></li>
	<li><a href="#LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>
<hr />
<!-- INDEX END -->

<h1 id="NAME">NAME <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>Demeter::ScatteringPath::Rank - Ranking paths in a Feff calculation</p>

<h1 id="VERSION">VERSION <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>This documentation refers to Demeter version 0.9.14.</p>

<h1 id="SYNOPSIS">SYNOPSIS <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>This module provides a framework for evaluating path ranking formulas
and associating the results with ScatteringPath objects.  These
rankings can be used to evaluate the importance of a path in a Feff
calculation and, hopefully, provide some guidance about which paths to
include in a fit.</p>

<p>This module is adapted from similar work by Karine Provost of Institut
de Chimie et des Materiaux Paris-Est.</p>

<h1 id="DESCRIPTION">DESCRIPTION <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>Feff has long had a strange little feature called the &quot;curved wave
importance factor&quot; that purports to be an assessment of the importance
of a path.  Paths with large importance factors should, presumably, be
included in a fit.  Unfortunately, the formula Feff uses to compute
this number is not very reliable when applied to real world fits.</p>

<p>This module, then, provides a framework for applying a sequence of
alternative importance calculation.  This gives the user much more
information about the list of paths from a Feff calculation and
hopefully provides much better guidance for creating fitting models.</p>

<h1 id="TESTS">TESTS <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<dl>
	<dt><code>chimagW</code></dt>
		<dd><p>The sum of the magnitude of chi(k) is computed after k-weighting by
W=(1,2,3).  The magnitude is obtained by running Ifeffit's <code>ff2chi</code>
function with the flag set for saving the magnitude of chi.  This is
controlled by the <code>save_mag</code> attribute of the Path object which is
used to compute the various tests.</p></dd>
	<dt><code>areaW</code></dt>
		<dd><p>Using S02=1, sigma^2=0.003, and all other path parameters set to 0,
perform a Fourier transform on the path using k-weight of W=(1,2,3).
Integrate under the magnitude of chi(R) between 1 and 10 Angstroms.</p></dd>
	<dt><code>areaW_n</code></dt>
		<dd><p>The value of <code>areaW</code> normalized over a list by the <code>normalize</code>
method.  The largest ranking in the list will be 100.</p></dd>
	<dt><code>heightW</code></dt>
		<dd><p>Using S02=1, sigma^2=0.003, and all other path parameters set to 0,
perform a Fourier transform on the path using k-weight of W=(1,2,3).
Return the maximum value of the magnitude of chi(R).</p></dd>
	<dt><code>heightW_n</code></dt>
		<dd><p>The value of <code>heightW</code> normalized over a list by the <code>normalize</code>
method.  The largest ranking in the list will be 100.</p></dd>
	<dt><code>peakposW</code></dt>
		<dd><p>Return the position of the maximum value from the <code>heightW</code> test.</p></dd>
</dl>
<h1 id="METHODS">METHODS <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<dl>
	<dt><code>rank</code></dt>
		<dd><p>Run the sequence of path ranking tests on a ScatteringPath object and
store the results in the <code>rankings</code> attribute, which is a hash
reference.  The keys of the referenced hash are given above.</p></dd>
<dd><pre>  $sp -&gt; rank($plot);

</pre></dd>		<dd><p>If <code>$plot</code> is true, the path will be plotted in R.</p></dd>
	<dt><code>normalize</code></dt>
		<dd><p>For amplitude-valued rankings, scale each path in a list such that the
largest path in the input list has a value of 100.</p></dd>
<dd><pre>  $sp -&gt; normalize(@list_of_sp);

</pre></dd>		<dd><p><code>$sp</code> will be included in the list, but care will be taken not to
include it twice.</p></dd>
	<dt><code>get_rank</code></dt>
		<dd><p>Return a path's value for a given test.</p></dd>
<dd><pre>  $x = $sp-&gt;get_rank('area2');

</pre></dd>	<dt><code>get_rank_list</code></dt>
		<dd><p>Return a list of identifying names for all the tests.</p></dd>
<dd><pre>  @all = $sp -&gt; get_rank_list;
  foreach my $r (@all) {
    print $r, &quot; = &quot;, $sp-&gt;get_rank($r);
  };

</pre></dd></dl>
<h1 id="CONFIGURATION">CONFIGURATION <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>The <code>pathfinder -&gt; rank</code> parameter is used to determine which
tests are run.  If set to <code>all</code>, the tests will be evaluated at all
three k-weights.  If set to <code>kw2</code>, the tests will only be evaluated
with k-weight of 2.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>Demeter's dependencies are in the <cite>Bundle/DemeterBundle.pm</cite> file.</p>

<h1 id="BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<ul>
	<li>Need to create useful tests.</li>
	<li>Need to integrate into Artemis.</li>
</ul>

<p>Please report problems to Bruce Ravel (bravel AT bnl DOT gov)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>Bruce Ravel (bravel AT bnl DOT gov)</p>

<p><a href="http://cars9.uchicago.edu/~ravel/software/">http://cars9.uchicago.edu/~ravel/software/</a></p>

<h1 id="LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT <a href="#TOP" class="toplink"><img alt="^" src="../../up.gif" /></a></h1>

<p>Copyright (c) 2006-2013 Bruce Ravel (bravel AT bnl DOT gov). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself. See <a href="http://search.cpan.org/perldoc?perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>


</div><div class="footer">generated by <a href="http://search.cpan.org/perldoc?Pod%3A%3AProjectDocs">Pod::ProjectDocs</a></div></body>
</html>
