<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>Demeter::GDS &mdash; Demeter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="../podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter::GDS
</div>
<div>
<a href="../src/Demeter/GDS.pm">Source</a>
</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#ATTRIBUTES">ATTRIBUTES</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#Object-handling-methods">Object handling methods</a></li>
      <li><a href="#Reporting-and-evaluation-methods">Reporting and evaluation methods</a></li>
    </ul>
  </li>
  <li><a href="#DIAGNOSTICS">DIAGNOSTICS</a></li>
  <li><a href="#SERIALIZATION-AND-DESERIALIZATION">SERIALIZATION AND DESERIALIZATION</a></li>
  <li><a href="#CONFIGURATION-AND-ENVIRONMENT">CONFIGURATION AND ENVIRONMENT</a></li>
  <li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
  <li><a href="#BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Demeter::GDS - Guess, Set, Def, and other parameters for EXAFS fitting</p>

<h1 id="VERSION">VERSION</h1>

<p>This documentation refers to Demeter version 0.9.26.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>   $gds_object = Demeter::GDS -&gt;
       new(gds     =&gt; &#39;guess&#39;,
           name    =&gt; &#39;alpha&#39;,
           mathexp =&gt; 0,
          );
   $gds_object -&gt; report;
   ## after a fit....
   $gds_object -&gt; evaluate;</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This subclass of the Demeter class is inteded to hold information pertaining to guess, def, set, and other parameters for use in a fit.</p>

<h1 id="ATTRIBUTES">ATTRIBUTES</h1>

<p>A GDS object has these attributes:</p>

<dl>

<dt id="name-string"><code>name</code> (string)</dt>
<dd>

<p>This is the name of the parameter. It must respect the conventions for a parameter name in Ifeffit or Larch. They can contain only letters, numbers, &#39;&amp;&#39;, &#39;?&#39;, &#39;:&#39;, and &#39;_&#39; (underscore). They are limited to 64 characters and cannot begin with a numeral.</p>

</dd>
<dt id="gds-guess-def-set-lguess-restrain-after-merge-skip"><code>gds</code> (guess def set lguess restrain after merge skip)</dt>
<dd>

<p>This is one of:</p>

<dl>

<dt id="guess"><i>guess</i></dt>
<dd>

<p>A parameter varied in the fit.</p>

</dd>
<dt id="def"><i>def</i></dt>
<dd>

<p>A parameter whose math expression is continuously updated throughout the fit.</p>

</dd>
<dt id="set"><i>set</i></dt>
<dd>

<p>A parameter which is evaluated at the beginning of the fit and remains unchanged after that.</p>

</dd>
<dt id="lguess"><i>lguess</i></dt>
<dd>

<p>A locally guessed parameter. In a multiple data set fit, this will be expanded to one guess parameter per data set.</p>

</dd>
<dt id="restrain"><i>restrain</i></dt>
<dd>

<p>A restrain parameter is defined in an Ifeffit script as a def parameter but is used as a restraint in the call to the feffit function. In a multiple data set fit, all restraints are defined in the first call to the feffit command.</p>

</dd>
<dt id="after"><i>after</i></dt>
<dd>

<p>This is like a def parameter, but is not evaluated until the fit finishes. It is then reported in the log file.</p>

</dd>
<dt id="merge"><i>merge</i></dt>
<dd>

<p>A merge is the type given to a parameter that cannot be unambiguously resolved when two Fit objects are merged into a single Fit object. A fit cannot proceed until all merge parameters are resolved.</p>

</dd>
<dt id="skip"><i>skip</i></dt>
<dd>

<p>A skip is a parameter that is defined but then ignored. Setting a variable to a skip is the Demeter equivalent of commenting it out.</p>

</dd>
</dl>

</dd>
<dt id="mathexp-string"><code>mathexp</code> (string)</dt>
<dd>

<p>This is the math expression assigned to the parameter. For a guess or set parameter this is often just a number -- the initial guess.</p>

</dd>
<dt id="stored-string"><code>stored</code> (string)</dt>
<dd>

<p>This is the math expression as provided by the user before any rewriting for local parameters.</p>

</dd>
<dt id="bestfit-number"><code>bestfit</code> (number)</dt>
<dd>

<p>After the fit is evaluated, this contains the result of the fit for this parameter. This is normally not set explicitly with the <code>set</code> method. Rather it is set using the <code>evaluate</code> method so that the math expression is correctly evaluated by Ifeffit/Larch.</p>

</dd>
<dt id="error-number"><code>error</code> (number)</dt>
<dd>

<p>After the fit is evaluated, this contains the error on this guess parameter. For all other types, this is 0. This is normally not set explicitly with the <code>set</code> method. Rather it is set using the <code>evaluate</code> method after a fit.</p>

</dd>
<dt id="modified-boolean"><code>modified</code> (boolean)</dt>
<dd>

<p>This is true if the parameter has been modified but not evaluated.</p>

</dd>
<dt id="note-string"><code>note</code> (string)</dt>
<dd>

<p>This is a text string -- an annotation -- used to describe something about the parameter.</p>

</dd>
<dt id="autonote-boolean"><code>autonote</code> (boolean)</dt>
<dd>

<p>When this is true, the annotation is set automatically when the parameter is evaluated.</p>

</dd>
<dt id="use-boolean"><code>use</code> (boolean)</dt>
<dd>

<p>This is a flag disables the use of a global restraint or a global after when local guess parameters are in play.</p>

</dd>
</dl>

<h1 id="METHODS">METHODS</h1>

<h2 id="Object-handling-methods">Object handling methods</h2>

<p>The GDS object uses the <code>new</code>, <code>Clone</code>, <code>set</code>, and <code>get</code> methods described in the <a href="../Demeter.pm.html">Demeter</a> documentation.</p>

<dl>

<dt id="annotate"><code>annotate</code></dt>
<dd>

<p>This method sets the <code>note</code> and <code>autonote</code> attributes in a stroke. It takes a single argument, the annotation string for the parameter.</p>

<pre><code>   $gds_object -&gt; annotate($string)
   $gds_object -&gt; annotate(q{})</code></pre>

<p>If the string is not empty, the <code>note</code> will be set to the string and the autonote attribute will be set to 0. If the string is empty, the <code>note</code> attribute will be cleared and the autonote attribute will be set to 1. These are completely equivalent to</p>

<pre><code>   $gds_object -&gt; set(note=&gt;$string, autonote=&gt;0);
   $gds_object -&gt; set(note=&gt;q{},     autonote=&gt;1);</code></pre>

<p>but using this method saves you the bother of remembering to toggle the <code>autonote</code> attribute.</p>

</dd>
</dl>

<h2 id="Reporting-and-evaluation-methods">Reporting and evaluation methods</h2>

<dl>

<dt id="write_gds"><code>write_gds</code></dt>
<dd>

<p>This returns a string which is the command to define the parameter in Ifeffit/Larch.</p>

<pre><code>   $string = $gds_object -&gt; write_gds</code></pre>

<p>This returns a string something like</p>

<pre><code>   guess enot = 0.0</code></pre>

<p>The first word is the parameter type. &quot;def&quot; is used for after and restrain parameters. Other parameter types (skip and merge) return strings which will not be valid Ifeffit/Larch commands.</p>

</dd>
<dt id="report"><code>report</code></dt>
<dd>

<p>This returns a one-line string which reports on the value of a parameter after a fit is complete. This method is used in the <code>logfile</code> method of the Fit subclass.</p>

<pre><code>   $string = $gds_object -&gt; report;</code></pre>

<p>The strings returned for the various parameter types are different. All contain the best fit value and the math expression (or initial guess). The error is included for guess parameters.</p>

</dd>
<dt id="full_report"><code>full_report</code></dt>
<dd>

<p>This is like the <code>report</code> method, but it returns a more verbose, multiline string and includes the annotation.</p>

<pre><code>   $string = $gds_object -&gt; report;</code></pre>

<p>This is not used in the logfile, but may be useful in an interactive application.</p>

</dd>
<dt id="evaluate"><code>evaluate</code></dt>
<dd>

<p>This method is called after a fit is performed to evaluate the bestfit and error attributes of the object. It also sets the annotation is the autonote attribute is true. It returns 1 in most cases, but returns 0 for unevaluatable parameter types (skip and merge).</p>

<pre><code>   $is_ok = $gds_object -&gt; evaluate;</code></pre>

<p>This is called as part of the <code>evaluate</code> method of the Fit class on all parameters used in the fit. Thus, it normally does not need to be called explicitly. However, it may be useful in interactive use.</p>

</dd>
</dl>

<h1 id="DIAGNOSTICS">DIAGNOSTICS</h1>

<p>Moose type constraints are used on several of the GDS object attributes. Error messages appropriate to the type constrain will be generated.</p>

<h1 id="SERIALIZATION-AND-DESERIALIZATION">SERIALIZATION AND DESERIALIZATION</h1>

<p>See the discussion of serialization and deserialization in <code>Demeter::Fit</code>.</p>

<h1 id="CONFIGURATION-AND-ENVIRONMENT">CONFIGURATION AND ENVIRONMENT</h1>

<p>See <a href="Config.pm.html">Demeter::Config</a> for a description of the configuration system.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES</h1>

<p>Demeter&#39;s dependencies are in the <i>Build.PL</i> file.</p>

<h1 id="BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</h1>

<ul>

<li><p>Errors should be propagated into def parameters</p>

</li>
</ul>

<p>Please report problems to the Ifeffit Mailing List (<a href="http://cars9.uchicago.edu/mailman/listinfo/ifeffit/">http://cars9.uchicago.edu/mailman/listinfo/ifeffit/</a>)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Bruce Ravel, <a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a></p>

<p><a href="http://bruceravel.github.io/demeter/">http://bruceravel.github.io/demeter/</a></p>

<h1 id="LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</h1>

<p>Copyright (c) 2006-2017 Bruce Ravel (<a href="http://bruceravel.github.io/home">http://bruceravel.github.io/home</a>). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See <a href="http://metacpan.org/module/perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

