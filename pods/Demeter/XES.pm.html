<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Demeter::Data</title>
<link rel="stylesheet" type="text/css" href="../podstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <script type="text/javascript">

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  </script></head>
<body>
<div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../index.html">Demeter</a> &gt; Perl Modules &gt;
  Demeter-XES
</div>
<div>
<a href="../src/Demeter/XES.pm">Source</a>
</div>


<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Index</h3>
<ul>
	<li><a href="#NAME">NAME</a></li>
	<li><a href="#VERSION">VERSION</a></li>
	<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
	<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
	<li><a href="#ATTRIBUTES">ATTRIBUTES</a></li>
	<li><a href="#METHODS">METHODS</a></li>
	<li><a href="#CONFIGURATION">CONFIGURATION</a></li>
	<li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
	<li><a href="#SERIALIZATION_AND_DESERIALIZATION">SERIALIZATION AND DESERIALIZATION</a></li>
	<li><a href="#BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS</a></li>
	<li><a href="#AUTHOR">AUTHOR</a></li>
	<li><a href="#LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
</ul>
<hr />
<!-- INDEX END -->

<h1 id="NAME">NAME <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Demeter::Data - Rudimentary processing of XES data</p>

<h1 id="VERSION">VERSION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>This documentation refers to Demeter version 0.9.11.</p>

<h1 id="SYNOPSIS">SYNOPSIS <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<pre>  my @common = (energy =&gt; 2,
                emission =&gt; 3,
                e1=&gt;7610, e2=&gt;7620, e3=&gt;7660, e4=&gt;7691
               );

  my $xes = Demeter::XES-&gt;new(file=&gt;&quot;xes.dat&quot;, @common, name =&gt; 'My XES data');
  $xes -&gt; plot('norm');

</pre><h1 id="DESCRIPTION">DESCRIPTION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>This subclass of the <a href="../Demeter.pm.html">Demeter</a> class is used to perform simple
processing of XES data, i.e. data that contains emission as function
of energy at a specific indicent energy.</p>

<h1 id="ATTRIBUTES">ATTRIBUTES <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<dl>
	<dt><code>file</code> (string)</dt>
		<dd><p>This contains the name of the file containing the XES data.</p></dd>
	<dt><code>plotkey</code></dt>
		<dd><p>Like in the Data object, this is used to temperarily override the
string used in a plot legend.</p></dd>
	<dt><code>energy</code> (integer) <i>[2]</i></dt>
		<dd><p>The column in the data file containing the energy axis.</p></dd>
	<dt><code>emission</code> (integer) <i>[3]</i></dt>
		<dd><p>The column in the data file containing the emmission intensity.</p></dd>
	<dt><code>sigma</code> (intensity) <i>[4]</i></dt>
		<dd><p>The column in the data file containing the uncertainty in the emmission intensity.</p></dd>
	<dt><code>e1</code> (number) <i>[0]</i></dt>
		<dd><p>The first boundary of the energy range used to determine the baseline.</p></dd>
	<dt><code>e2</code> (number) <i>[0]</i></dt>
		<dd><p>The second boundary of the energy range used to determine the baseline.</p></dd>
	<dt><code>e3</code> (number) <i>[0]</i></dt>
		<dd><p>The third boundary of the energy range used to determine the baseline.</p></dd>
	<dt><code>e4</code> (number) <i>[0]</i></dt>
		<dd><p>The fourth boundary of the energy range used to determine the baseline.</p></dd>
	<dt><code>slope</code> (number)</dt>
		<dd><p>The slope of the fitted baseline.</p></dd>
	<dt><code>yoff</code> (number)</dt>
		<dd><p>The y-offset value of the fitted baseline.</p></dd>
	<dt><code>norm</code> (number)</dt>
		<dd><p>The normalization value, i.e. the maximum value of the baseline subtracted data.</p></dd>
	<dt><code>peak</code> (number)</dt>
		<dd><p>The position of the largest peak in the meission data.</p></dd>
	<dt><code>eshift</code> (number) <i>[0]</i></dt>
		<dd><p>An energy shift used for plotting.</p></dd>
	<dt><code>plot_multiplier</code> (number) <i>[1]</i></dt>
		<dd><p>A plot multiplier used for plotting.</p></dd>
	<dt><code>y_offset</code> (number) <i>[0]</i></dt>
		<dd><p>A y-axis offset used from plotting.</p></dd>
	<dt><code>update_file</code> (boolean)</dt>
		<dd><p>A boolean that is true when the file needs to be reimported.</p></dd>
	<dt><code>update_background</code> (boolean)</dt>
		<dd><p>A boolean that is true when the data needs to be renormalized.</p></dd>
</dl>
<h1 id="METHODS">METHODS <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<dl>
	<dt><code>plot</code></dt>
		<dd><p>Make a plot of the data.  The data willbe imported and normalized as
needed.  Plots my be made as <code>raw</code>, <code>sub</code>, or <code>norm</code>:</p></dd>
<dd><pre>  $xes -&gt; plot($how);

</pre></dd>		<dd><p><code>raw</code> means to plot the raw data.  If the <code>e_bkg</code> attribute of the
Plot object is true, then the fitted baseline will also be plotted.</p></dd>
		<dd><p><code>sub</code> means to plot the baseline subtracted data.  <code>norm</code> means to
plot the normalized data.  <code>norm</code> is the default kind of plot,
i.e. the plot that is made when no argument is given.</p></dd>
		<dd><p>In most ways, plotting XES data works like any other plotting in
Demeter.</p></dd>
	<dt><code>peak_position</code></dt>
		<dd><p>Find the location of the peak of the main fluorescence line in the XES
data.</p></dd>
<dd><pre>  $xes -&gt; peak_position;

</pre></dd>	<dt><code>find_line</code></dt>
		<dd><p>Determine the element and emission line from the peak position and a
look-up table of emission lines.</p></dd>
<dd><pre>  my ($element, $line) = $xes -&gt; find_line;

</pre></dd>		<dd><p>In this form, it uses the value of the <code>peak</code> attribute.  You can
also explicitly specify an energy:</p></dd>
<dd><pre>  my ($element, $line) = $xes -&gt; find_line($energy);

</pre></dd></dl>
<h1 id="CONFIGURATION">CONFIGURATION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>See <a href="Config.pm.html">Demeter::Config</a> for a description of the configuration system.
Many attributes of a Data object can be configured via the
configuration system.  See, among others, the <code>bkg</code>, <code>fft</code>, <code>bft</code>,
and <code>fit</code> configuration groups.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Demeter's dependencies are in the <cite>Bundle/DemeterBundle.pm</cite> file.</p>

<h1 id="SERIALIZATION_AND_DESERIALIZATION">SERIALIZATION AND DESERIALIZATION <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>An XES object and be frozen to and thawed from a YAML file in the same
manner as a Data object.  The attributes and data arrays are read to
and from YAMLs with a single object perl YAML.</p>

<h1 id="BUGS_AND_LIMITATIONS">BUGS AND LIMITATIONS <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<ul>
	<li>Peak fitting is currently broken for XES data</li>
</ul>

<p>Please report problems to Bruce Ravel (bravel AT bnl DOT gov)</p>

<p>Patches are welcome.</p>

<h1 id="AUTHOR">AUTHOR <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Bruce Ravel (bravel AT bnl DOT gov)</p>

<p><a href="http://cars9.uchicago.edu/~ravel/software/">http://cars9.uchicago.edu/~ravel/software/</a></p>




<h1 id="LICENCE_AND_COPYRIGHT">LICENCE AND COPYRIGHT <a href="#TOP" class="toplink"><img alt="^" src="../up.gif" /></a></h1>

<p>Copyright (c) 2006-2012 Bruce Ravel (bravel AT bnl DOT gov). All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself. See <a href="http://search.cpan.org/perldoc?perlgpl">perlgpl</a>.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>


</div><div class="footer">generated by <a href="http://search.cpan.org/perldoc?Pod%3A%3AProjectDocs">Pod::ProjectDocs</a></div></body>
</html>
