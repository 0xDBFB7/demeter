<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>STAR::Parser &mdash; Demeter</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="../podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">Demeter</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Perl tools for X-ray Absorption Spectroscopy</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../index.html">Demeter</a> &gt; Perl Modules &gt;
  STAR::Parser
</div>
<div>
<a href="../src/STAR/Parser.pm">Source</a>
</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a>
    <ul>
      <li><a href="#Version">Version</a></li>
    </ul>
  </li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#CLASS-METHODS">CLASS METHODS</a>
    <ul>
      <li><a href="#parse">parse</a></li>
    </ul>
  </li>
  <li><a href="#COMMENTS">COMMENTS</a></li>
  <li><a href="#AUTHOR">AUTHOR</a>
    <ul>
      <li><a href="#Acknowledgments">Acknowledgments</a></li>
    </ul>
  </li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>STAR::Parser - Perl extension for parsing STAR compliant files (with no nested loops).</p>

<h2 id="Version">Version</h2>

<p>This documentation refers to version 0.59 of this module.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>  use STAR::Parser;
  
  ($data) = STAR::Parser-&gt;parse(&#39;1fbm.cif&#39;);

  ($dict) = STAR::Parser-&gt;parse(-file=&gt;&#39;mmcif_dict&#39;,
                                -dict=&gt;1,
                                -options=&gt;&#39;l&#39;);  #logs activity</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>STAR::Parser is one of several related Perl modules for parsing STAR compliant files (such as CIF and mmCIF files). Currently, these modules include STAR::Parser, STAR::DataBlock, STAR::Dictionary, STAR::Writer, STAR::Checker, and STAR::Filter.</p>

<p>STAR::Parser is the parsing module, with the class method parse for parsing any STAR compliant files or dictionaries, as long as they do <b>not</b> contain nested loops (i.e., only <b>one</b> level of loop is supported). Upon parsing of a file, an array of DataBlock objects is returned (one for each data_ entry in the file). The class STAR::DataBlock contains object methods for these objects. STAR::DataBlock is automatically accessible through STAR::Parser. Upon parsing of a dictionary (indicated with the <code>-dict=&gt;1</code> parameter), an array of Dictionary objects is returned. STAR::Dictionary is a sub-class of STAR::DataBlock.</p>

<p>The methods of this module and the accompanying modules (STAR::DataBlock, STAR::Checker, etc.) support &quot;named parameters&quot; style for passing arguments. If only one argument is mandatory, then it may be passed in either a &quot;named parameters&quot; or &quot;unnamed parameters&quot; style, for example:</p>

<pre><code>       @objs = STAR::Parser-&gt;parse( -file=&gt;$file, -options=&gt;&#39;d&#39; );  #debugging

       @objs = STAR::Parser-&gt;parse( -file=&gt;$file );  #no options
   or: @objs = STAR::Parser-&gt;parse( $file );</code></pre>

<h1 id="CLASS-METHODS">CLASS METHODS</h1>

<h2 id="parse">parse</h2>

<pre><code>  Usage:  @objs = STAR::Parser-&gt;parse(-file=&gt;$file[,
                                      -dict=&gt;1,
                                      -options=&gt;$options]);

     or:  @objs = STAR::Parser-&gt;parse($file);
                                    
  Examples: 
  
  1)  @objs = STAR::Parser-&gt;parse(&#39;1fbm.cif&#39;);
      $data = $objs[0];

      OR:

      ($data) = STAR::Parser-&gt;parse(&#39;1fbm.cif&#39;);

  2)  @objs = STAR::Parser-&gt;parse(&#39;7files.txt&#39;);
      foreach $obj (@objs) {
          # do something, see STAR::DataBlock
      }

  3)  @objs = STAR::Parser-&gt;parse(-file=&gt;&#39;mmcif_dict&#39;,
                                  -dict=&gt;1,
                                  -options=&gt;&#39;l&#39;); #logs activity
      $dict = @objs[0];</code></pre>

<p>This method first searches the file and creates a DataBlock object for each data_ identifier found in the file. If no data_ identifier is found, then only one DataBlock object will be created (with <code>$d=&#39;untitled&#39;</code>, see below). If parse is invoked with the <code>-dict=&gt;1</code> option, then a Dictionary object is created for each data_ identifier found.</p>

<p>Next, the method populates the data structure of each DataBlock or Dictionary object. The parsed data may be queried or accessed by object methods of the STAR::DataBlock and STAR::Dictionary modules. See the documentation for STAR::DataBlock and STAR::Dictionary.</p>

<p>The method always returns an array of objects, even if it contains only one object (if there is only one data_ block in the file).</p>

<p>Internally, the parsed data is stored in a multidimensional hash with keys for data blocks (<code>$d</code>), save blocks (<code>$s</code>), categories (<code>$c</code>), and items (<code>$i</code>). For a file, <code>$s</code> will always be <code>&#39;-&#39;</code>, since there are no save blocks in files. For a dictionary, <code>$s</code> will be <code>&#39;-&#39;</code> outside of save_ blocks, and <code>&#39;CATEGORY&#39;</code> or <code>&#39;_item&#39;</code> inside save_CATEGORY or save__item blocks (capitalization depends on the user&#39;s dictionary.) If a file is parsed that contains no data_ identifier, then <code>$d</code> becomes <code>&#39;untitled&#39;</code>. <code>$c</code> refers to a category, such as _atom_site and <code>$i</code> refers to an item, such as _atom_site.id.</p>

<p>The method may be invoked with an $options string. These options are the following letters which may be concatenated in any order:</p>

<pre><code>  d  writes debugging output to STDERR 
  l  writes program activity log to STDERR</code></pre>

<h1 id="COMMENTS">COMMENTS</h1>

<p>This module provides no error checking of files or objects, either against the dictionary, or otherwise. While the module is applicable to parsing either a file or a dictionary, dictionary information is not currently used in the parsing of files. So, for example, information about parent-child relationships between items is not present in a DataBlock object. Functionality related to these issues is being provided in additional modules such as STAR::Checker, and STAR::Filter.</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Wolfgang Bluhm, mail@wbluhm.com</p>

<h2 id="Acknowledgments">Acknowledgments</h2>

<p>Thanks to Phil Bourne, Helge Weissig, Anne Kuller, Doug Greer, Michele Bluhm, and others for support, help, and comments.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>A full copyright statement is provided with the distribution Copyright (c) 2000 University of California, San Diego</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>STAR::DataBlock, STAR::Dictionary.</p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

