<!DOCTYPE HTMP PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Setting math expressions</title>
    <link rel="stylesheet" href=../artug.css />
    <link rel="stylesheet" href=../ppi.css />
    <meta http-equiv="Content-Type" content="text/html"; charset=iso-8859-15 />
    <meta name="robots" contents="all" />
  </head>

  <body>
    <div class=topbar>
  <div class=navbar>
  <a class=navhead href="../index.html">The Artemis Users' Guide</a>
  <table class=navtable>
    <tr>
      <td align=left>
        &laquo;<a class=navtable href="http://bruceravel.github.io/demeter/"><span class=programlink>DEMETER</span></a>&raquo; &nbsp;
        &laquo;<a class=navtable href="https://github.com/newville/ifeffit"><span class=programlink>IFEFFIT</span></a>&raquo; &nbsp;
        <!-- [&nbsp;<a class=navtable href="http://leonardo.phys.washington.edu/feff/wiki/index.php?title=FEFF_Documentation"><span class=programlink>FEFF</span></a>&nbsp;] &nbsp; -->
        &laquo;<a class=navtable href="http://xafs.org">xafs.org</a>&raquo; &nbsp;
	<!-- [&nbsp;<a class=navtable href="../demeter.pdf">PDF&nbsp;doc</a>&nbsp;] -->
      </td>
      <td align=right>
        &nbsp;&nbsp;
        Up: <a class=navtable href="../path/index.html" class="menu">The Path page</a> &nbsp;&nbsp;
        Next: <a class=navtable href="../path/plot.html" class="menu">Marking and plotting</a>      </td>
    </tr>
  </table>
  </div>
</div>

<div class=sidebar>
  <a href="../diana.html"><img src=../../images/Artemis_logo.jpg
    width=90% border=0 alt='[Artemis logo]'></a>
  <br />
  <a href="../index.html"  class="menu">Home</a><br />
<a href="../intro.html"  class="menu">Introduction</a><br />
<a href="../startup/index.html"  class="menu">Starting Artemis</a><br />
<a href="../data.html"  class="menu">The Data window</a><br />
<a href="../feff/index.html"  class="menu">The Atoms/Feff window</a><br />
<a href="../path/index.html"  class="menuselect">The Path page</a><br />
&nbsp;&#8618;&nbsp;<span style="font-style: italic;">Setting math expressions</span><br />
&nbsp;&#8618;&nbsp;<a href="../path/plot.html"  class="menu">Marking and plotting</a><br />
&nbsp;&#8618;&nbsp;<a href="../path/pathlike.html"  class="menu">Using path-like objects</a><br /><a href="../gds.html"  class="menu">The GDS window</a><br />
<a href="../fit/index.html"  class="menu">Running a fit</a><br />
<a href="../plot/index.html"  class="menu">The Plot window</a><br />
<a href="../logjournal.html"  class="menu">The Log & Journal windows</a><br />
<a href="../history.html"  class="menu">The History window</a><br />
<a href="../monitor.html"  class="menu">Monitoring things</a><br />
<a href="../prefs.html"  class="menu">Managing preferences</a><br />
<a href="../examples/index.html"  class="menu">Worked examples</a><br />
<a href="../atoms/index.html"  class="menu">Crystallography for EXAFS</a><br />
<a href="../extended/index.html"  class="menu">Extended topics</a><br />
</div>

<div class=contentarea>


<h1>
  Setting math expressions
</h1>

<p>
Once some paths have been dragged from the <span class=program>FEFF</span> window onto the
Data window containing the gold foil data, it is time to begin
defining math expressions for the path parameters.  In the following
figure, the path corresponding to the first coordination shell has
been selected from the path list.  A path is selected by left clicking
on its label in the path list.  Doing so, displays that path on the
right side of the Data window.
</p>

<p>
At the top of the Path page are two checkboxes.  One is used to
include and exclude a path from the fitting model.  In this way, you
can control which paths are used in a fit without having to remove
them from the path list.  The other check box is used to indicate if
the current path should be transfered to the plotting list in the
Plot window at the end of a fit.
</p>


<p class=todo>
<img class=tinyfloatleft border=0 src="../../images/todo.png" alt="To do!">
Implement and explain the two items in the &ldquo;other path options&rdquo; pane.
</p>

<p>
The text box contains a brief description of the geometry of the
scattering path.  For a path with degeneracy greater than 1, the
scattering geometry of one of the degenerate paths is shown.  The
simple explanation of the shape of the path and its heuristic
importance are also given in the text box.
</p>


<p class=todo>
<img class=tinyfloatleft border=0 src="../../images/todo.png" alt="To do!">
Implement a way to display a text box which shows all the paths
contributing to the degeneracy + report on fuzziness of the
degeneracy. 
</p>

<p>
Beneath the scattering geometry is a table of path parameters labels
and text boxes.  Math expressions are entered into these text boxes.
</p>


<div class=figure style="max-width: 843px; min-width: 7em;">
<a name=path-first>
<img src=../../images/path-first.png width=100%>
</a>
<p align=center>
Math expressions have been set for the first shell path.
</p>
</div>

<p>
In the preceding image, a simple fitting model appropriate for a
cubic, monoatomic material like our gold foil has been entered for the
first shell path.  This includes simple expressions for S&sup2;&#8320; and
E&#8320; consisting of variables that will be floated in the fit.  A <a href="../extended/delr.html">model of
isotropic expansion</a> is provided for &Delta;R.  The &sigma;&sup2; path
parameter is expressed using <a href="../extended/ss.html">the correlated Debye model</a>.  The
other path parameter text boxes have been left blank and will not be
modified in the fit.
</p>

<p>
This, of course, establishes the parameterization only for the first
path.  The same editing of path parameter math expressions must happen
for all the other paths used in the fit.
</p>

<p>
The most straightforward way to do this editing chore is to click on
each successive path in the path list, then click into each text box,
then type in the math expressions.  That, however, is both tedious and
error-prone.
</p>


<p>

</td>
<td width=344>
<a class=floatright href="../../images/path-menu.png"  title=The Artemis Users' Guide target=_blank><img border=0 src="../../images/path-menu.png"  title="The Artemis Users' Guide"  alt="path-menu.png"></a>
For math expressions that are the same for every path &ndash; E&#8320; is a
common example &ndash; <span class=program>ARTEMIS</span> provides some automation tools.  Each of
the path parameter labels on the Path page is sensitive to either left
or right click.  Either kind of click posts a menu like the one of the
right.  The top option is used to erase the contents of the associated
text both, but only on this path.
</p>

<p>
The next four options are used to push the math expression for the
associated path parameter onto other paths.  These four options allow
some control over the paths that are targeted to receive the pushed
path parameter values.
</p>

<p>
The last two options are used to grab the math expression from one of
the surrounding paths.
</p>

<p>
The menu that pops up for the &sigma;&sup2; parameter has two additional
options.  One inserts a math expression for using the correlated Debye
function for &sigma;&sup2;, the other inserts the math expression for an
Einstein model.  <a href="../extended/ss.html">Both the Debye and Einstein functions</a> depend on the
measurement temeprature and a characteristic temperature.  Typically,
the measurement temperature is a set variable and the characteristic
temperature is a guess.  When either function is inserted into the
text box, parameters are automatically created <a href="../gds.html">on the GDS page</a>.
</p>

<p>
The Path menu on the Data page offers a way of pushing all the path
parameters from the displayed path to other paths.  The same options
for targeting other paths are presented.
</p>


<div class=figure style="max-width: 570px; min-width: 7em;">
<a name=path-push>
<img src=../../images/path-push.png width=100%>
</a>
<p align=center>
Push all path parameters to other paths.
</p>
</div>

</div>

<br />
<hr class=hide />
<hr class=bottomdivider />

<div class=bottombar>
  <div class=copyright>
  <table>
    <tr>
      <td colspan=2>
        <span class=program>DEMETER</span> is copyright &copy; 2009-2014 Bruce Ravel
        &mdash;
        This document is copyright &copy; 2014 Bruce Ravel
        <br />
      </td>
    </tr>
    <tr valign=middle>
      <td> 
           <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../images/somerights20.png" width="88" height="31" alt="" border="0" /></a> &nbsp;&nbsp;&nbsp;
      </td>
      <td>
  	This document is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">
  	The Creative Commons Attribution-ShareAlike License</a>.
  	<br />
  	If <span class=program>DEMETER</span> and this document are useful to you, please consider
  	<a href="http://creativecommons.org/support/">supporting The Creative Commons</a>.
      </td>
    </tr>
  </table>
</div>
</div>
  </body>
</html>