<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>Demeter To Do List (also Athena and Artemis)</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-04-03 16:36:07 EDT"/>
<meta name="author" content="Bruce Ravel"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">

<h1 class="title">Demeter To Do List (also Athena and Artemis)</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 things that need doing </a>
<ul>
<li><a href="#sec-1.1">1.1 Moose issues </a></li>
<li><a href="#sec-1.2">1.2 wx issues </a></li>
<li><a href="#sec-1.3">1.3 installation issues [/] </a></li>
<li><a href="#sec-1.4">1.4 Demeter bugs, shortcomings, missing features  [2/17] [11%] </a></li>
<li><a href="#sec-1.5">1.5 Athena </a></li>
<li><a href="#sec-1.6">1.6 raw data and plugins </a></li>
<li><a href="#sec-1.7">1.7 Windows issues [4/14] [28%] </a></li>
<li><a href="#sec-1.8">1.8 Artemis </a></li>
<li><a href="#sec-1.9">1.9 Hephaestus </a></li>
<li><a href="#sec-1.10">1.10 Other object types [0/3] </a></li>
<li><a href="#sec-1.11">1.11 Windows </a></li>
</ul>
</li>
<li><a href="#sec-2">2 Atoms and Feff </a>
<ul>
<li><a href="#sec-2.1">2.1 CIF [0/3] [0%] </a></li>
<li><a href="#sec-2.2">2.2 Atoms [3/6] [50%] </a></li>
<li><a href="#sec-2.3">2.3 Feff </a></li>
</ul>
</li>
<li><a href="#sec-3">3 Ifeffit </a></li>
<li><a href="#sec-4">4 Weird stuff I'd prefer not to implement unless demanded </a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> things that need doing </h2>
<div class="outline-text-2" id="text-1">



</div>

<div id="outline-container-1.1" class="outline-3">
<h3 id="sec-1.1"><span class="section-number-3">1.1</span> Moose issues </h3>
<div class="outline-text-3" id="text-1.1">


</div>

</div>

<div id="outline-container-1.2" class="outline-3">
<h3 id="sec-1.2"><span class="section-number-3">1.2</span> wx issues </h3>
<div class="outline-text-3" id="text-1.2">

<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> why does Wx::FileDialog with <code>wxFD_OVERWRITE_PROMPT</code> style not work correctly?
see <a href="https://bugzilla.gnome.org/show_bug.cgi?id=631908">https://bugzilla.gnome.org/show_bug.cgi?id=631908</a> and 
<a href="https://bugs.launchpad.net/ubuntu/+source/gtk+2.0/+bug/558674">https://bugs.launchpad.net/ubuntu/+source/gtk+2.0/+bug/558674</a> for more info
Turns out this is a gtk problem &ndash; I can make the same thing happen with Firefox!

</li>
</ul>
</div>

</div>

<div id="outline-container-1.3" class="outline-3">
<h3 id="sec-1.3"><span class="section-number-3">1.3</span> installation issues [/] </h3>
<div class="outline-text-3" id="text-1.3">


</div>

</div>

<div id="outline-container-1.4" class="outline-3">
<h3 id="sec-1.4"><span class="section-number-3">1.4</span> Demeter bugs, shortcomings, missing features  [2/17] [11%] </h3>
<div class="outline-text-3" id="text-1.4">

<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> in <code>Demeter::Data::IO::save_many</code>, why doesn't updating in n specifying "background" not work to bring data up to date?  (fft, i.e. doing autobk, does work)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Importing a Windows shortcut from a network mounted folder on linux or Mac will fail
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <del>serialize VPath</del>, put VPath into <del>dpj and</del> fpj files
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> tie multiple groups together (e.g. MED data with reference)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> add a record to an existing Athena project file
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> set E0 to peak of white line
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> clnorm + Julia and Jingen's MBACK replacement
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Data object should note that datatype is xanes and not compute fbkg since the bkg array does not exist
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> cannot specify title for stddev and variance plots
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Demeter command backend needs lots of polishing
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> 3rd derivative
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> SDK: better documentation for freeze/thaw//serialize/deserialize
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> error check deserialization for all objects, verify that it is a yaml or whatnot, return 0 if not
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> per data set R-factors, computed correctly for mkw fits (what is "correctly?")
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> OpenBabel interface, tied into Feff
</li>
<li>
<b>[X]</b> we seem not to have a normalized group (i.e. plot the same as mu or norm)
</li>
<li>
<b>[X]</b> better detection of chi ascii data in case of 
<code>$data = Demeter::Data-&gt;new(file=&gt;"foo.chi");</code>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> MRU lists and unicode, unicode-y file paths fail the -e test at Demeter::MRU line 77




</li>
</ul>
</div>

</div>

<div id="outline-container-1.5" class="outline-3">
<h3 id="sec-1.5"><span class="section-number-3">1.5</span> Athena </h3>
<div class="outline-text-3" id="text-1.5">


<ul>
<li id="sec-1.5.1">needs testing [1/3] <br/>
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> reference of another edge
</li>
<li>
<b>[X]</b> keV data
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> importing xmu.dat files into Athena has never been tested

</li>
</ul>
</li>
<li id="sec-1.5.2">Tools [19/25] [76%] <br/>
<ol>
<li>
<b>[X]</b> main
</li>
<li>
<b>[X]</b> calibrate
</li>
<li>
<b>[X]</b> align
</li>
<li>
<b>[X]</b> deglitch
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <i>smooth with Savitsky-Golay filter</i> <a href="notes/sgolay.m">Matlab routine for SG filter</a> 
</li>
<li>
<b>[X]</b> truncate
</li>
<li>
<b>[X]</b> rebin
</li>
<li>
<b>[X]</b> convolution and noise
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <i>deconvolution</i>
</li>
<li>
<b>[X]</b> self absorption
</li>
<li>
<b>[X]</b> copy series
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> data summation

</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> dispersive
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> multi-electron removal

</li>
<li>
<b>[X]</b> LCF
</li>
<li>
<b>[X]</b> <i>PCA</i> <a href="http://mailman.jach.hawaii.edu/pipermail/perldl/2006-August/000588.html">PCA from PDL mail archives</a>
</li>
<li>
<b>[X]</b> Peak fit
</li>
<li>
<b>[X]</b> log ratio
</li>
<li>
<b>[X]</b> difference

</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> explain FT
</li>
<li>
<b>[X]</b> disk watcher
</li>
<li>
<b>[X]</b> XDI
</li>
<li>
<b>[X]</b> journal
</li>
<li>
<b>[X]</b> plugins
</li>
<li>
<b>[X]</b> preference 

</li>
</ol>
<ul>
<li id="sec-1.5.2.1">Requires PDL <br/>
<ol>
<li>
smoothing by S-G
</li>
<li>
deconvolution
</li>
<li>
<del>PCA</del>

</li>
</ol>
</li>
</ul>
</li>
<li id="sec-1.5.3">needs doing [9/20] [45%] <br/>
<ul>
<li>
<b>[X]</b> deglitching crashes with gnuplot
</li>
<li>
<b>[X]</b> test preprocessing (I had a crash with all three preproc options selected for data with a reference):
<code>Can't call method "GetSelection" on an undefined value at /home/bruce/git/demeter/lib/Demeter/UI/Athena/IO.pm line 423.</code>
</li>
<li>
<b>[X]</b> Check that data/standard relationship works when importing
from a project, when importing only one from a project, when
discarding one or the other
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> beter error handling in plugins &ndash; specifically need to do a
better job of trapping errors in the <code>fix</code> method.  Perhaps
<code>fix</code> should always be called within an <code>eval</code>?
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> implement frozen groups
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> links to documentation on each tool
</li>
<li>
<b>[X]</b> Post a warning if bkg<sub>e0</sub>=0 and/or element is &lt;= Be
</li>
<li>
[-] <b>Main window</b> [1/3] [33%]
<ul>
<li>
<b>[X]</b> <del>SpinCtrl for use with Rbkg</del>, event handler triggered twice on first use (found work-around)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> SpinCtrl for use with bkg<sub>spl1</sub>/2 (I find this to be a much worse idea)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> push bkg<sub>e0</sub> <i>algorithm</i> onto marked/all groups and recalculate
</li>
</ul>
</li>
<li>
<b>[X]</b> <b>Pluck buttons</b> [2/2]
<ul>
<li>
<b>[X]</b> implement everywhere needed
</li>
<li>
<b>[X]</b> figure out cause of spurious error on Windows
<code>failed to get data from the clipboard error -2147221040 openClipboard failed</code>
</li>
</ul>
</li>
<li>
<b>[X]</b> <b>Column selection dialog</b> [3/3]
<ul>
<li>
<b>[X]</b> importing each channel of med data does not work
</li>
<li>
<b>[X]</b> negate button
</li>
<li>
<b>[X]</b> import data into Athena as norm(E)
</li>
</ul>
</li>
<li>
<b>[X]</b> <b>Calibration tool</b>
<ul>
<li>
<del>smoothing does not work</del>
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <b>Convolve/noise tool</b>
<ul>
<li>
add noise to chi data
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <b>Difference tool</b> [0/4]
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> plot diff for marked groups
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> plot areas from marked groups
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> make difference groups from marked groups
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> difference in k
</li>
</ul>
</li>
<li>
[-] <b>LCF tool</b> [4/7]
<ul>
<li>
<b>[X]</b> make data group from fit (use InsertData method)
</li>
<li>
<b>[X]</b> marked groups automation, display in fourth tab, excel output
</li>
<li>
<b>[X]</b> plot in R for fit in k
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> persistance of LCF results
</li>
<li>
<b>[X]</b> plot sequence results with pgplot
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> satisfying both inclusive and unity can be trouble for
poorly normalized data and/or poor standard selection
(see email from Jack Hitch)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> compute R-factor in k or R using fit from energy.  (see
mail from Scott 7 January 2012)
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <b>PCA tool</b> [0/10]
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> manual entry of component coefficients (??)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> cluster analysis, select two components and plot the
associations of each data with those two in a scatter plot.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> persistance
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> worry about "def group.tt" line being to long in tt template
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> plotting in pgplot
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> error analysis, RET, SPOIL, etc, determination of number
of components, validity of TT, etc
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> specialized file headers for reconstruction and tt save files
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> save eigenvectors to a file
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> pluck buttons for analysis range don't work
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> if the marked groups are changed after performing the PCA
but before reconstructing data, the plot will fail with
and exception.  need to save the list of data that went
into the PCA and check against that rather than the
current list of marked groups
</li>
</ul>
</li>
<li>
[-] <b>Peakfit tool</b> [7/18]
<ul>
<li>
<b>[X]</b> plot without fitting
</li>
<li>
<b>[X]</b> save result
</li>
<li>
<b>[X]</b> report has mismatched sig figs for best fit and error
</li>
<li>
<b>[X]</b> plot and save buttons on results tab
</li>
<li>
<b>[X]</b> implement delete button
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> implement pseudovoight
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> verify that all centroids are within (or near) fit range
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> verify that fit is sensible (ndata vs nparam)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <del>make group from fitted function</del>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> behavior when changing data
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> pluck fit ranges
</li>
<li>
<b>[X]</b> control for changing lineshape (atan&lt;-&gt;erf)(gauss&lt;-&gt;loren)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> ndata is full data range rather than fit range with Fityk backend
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> broken using XES
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> explicitly set title of plot
</li>
<li>
<b>[X]</b> configuration
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> sequence over marked groups
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> persistance
</li>
</ul>
</li>
<li>
<b>[X]</b> <b>Data watcher</b> [5/5]
<ul>
<li>
<b>[X]</b> Data import
</li>
<li>
<b>[X]</b> Actively import the first file in order to set column
selection, save that example of column selection in case
its yaml gets overwritten before the timer starts
</li>
<li>
<b>[X]</b> Recognize an incomplete scan, eg a scan terminated by a beam dump
</li>
<li>
<b>[X]</b> Import the last scan in a sequence
</li>
<li>
<b>[X]</b> Toggles for pre-processing (mark/set/align)
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> <b>Plot menu</b>
<ul>
<li>
zoom/unzoom/cursor for pgplot
</li>
</ul>
</li>
<li>
[-] <b>Help menu</b> [1/3]
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> demos
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> document
</li>
<li>
<b>[X]</b> memory usage
</li>
</ul>
</li>
<li>
<b>[X]</b> <b>metadata</b>

</li>
</ul>
</li>
<li id="sec-1.5.4"><span class="todo TODO"> TODO</span>  <br/>
</li>
</ul>
</div>

</div>

<div id="outline-container-1.6" class="outline-3">
<h3 id="sec-1.6"><span class="section-number-3">1.6</span> raw data and plugins </h3>
<div class="outline-text-3" id="text-1.6">

<ul>
<li>
Need to expand the filetype system by examining data from <b>all</b> the XAS beamlines in the world.  Yes &hellip; all of them.
</li>
<li>
solicit help from the facility representatives

</li>
</ul>
</div>

</div>

<div id="outline-container-1.7" class="outline-3">
<h3 id="sec-1.7"><span class="section-number-3">1.7</span> Windows issues [4/14] [28%] </h3>
<div class="outline-text-3" id="text-1.7">

<ul>
<li>
<b>[X]</b> parameter group context menus don't get posted (see
<a href="http://www.nntp.perl.org/group/perl.wxperl.users/2011/03/msg7929.html">http://www.nntp.perl.org/group/perl.wxperl.users/2011/03/msg7929.html</a>)
</li>
<li>
<b>[X]</b> <del>spurious message from clipboard</del> (worked around)
</li>
<li>
<b>[X]</b> fpj file on Win seems to not get unpacked correctly <i>is this true?</i>
</li>
<li>
<b>[X]</b> <del>using gnuplot on Win XP Home Edition failed due to the redirection of STDERR to ~$self-&gt;{__error_log}~ in Graphics::GnuplotIF.</del>
removing this redirection fixed the problem, but I don't
understand why it was a problem in the first place.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> the frickin' Gnuplot error logs seem to remain open and locked
on Windows when a crash happens
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> status bar does not get color for wait or error messages
<i>this may be unfixable, see</i>
<a href="http://www.nntp.perl.org/group/perl.wxperl.users/2011/04/msg7943.html">http://www.nntp.perl.org/group/perl.wxperl.users/2011/04/msg7943.html</a>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> The atoms panel background color is too light.  Which window
needs its BackgroundColour set to wxNullColour?
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> clampbox does not get enabled/disabled explicitly, is this
another aspect of StaticBox that is different on Windows? (see
link above)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> relocation of Strawberry leaves Ifeffit unable to find phase
shift and CL tables (use an ENV variable?)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> The Strawberry+Demeter package does not coexist at all with
ActivePerl.  Best solution is to generate ppd for Demeter
armed with all dependencies.  Would need to compile wrapper
and somehow get gnuplot on the machine.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> ScrolledWindow used in History plot tool does not scroll
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> A link file linked to a directory does not get followed properly
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Need to test that paths with (parens|commas|quotes) get
followed correctly in all situations
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Initial initialization of gnuplot and feff executable
locations in the situation where the package has been moved or
reinstalled such that and old demeter.ini still exists


</li>
</ul>
</div>

</div>

<div id="outline-container-1.8" class="outline-3">
<h3 id="sec-1.8"><span class="section-number-3">1.8</span> Artemis </h3>
<div class="outline-text-3" id="text-1.8">

<ul>
<li id="sec-1.8.1">Artemis bugs and missing features [5/14]  [35%] <br/>
<ul>
<li>
<b>[X]</b> rename Atoms/Feff
</li>
<li>
<b>[X]</b> <del>discarding last page and returning to initial page has an undefined value problem</del> (not true)
</li>
<li>
<b>[X]</b> status messages in Atoms/Feff frame do not get posted in
Artemis status buffer
</li>
<li>
<b>[X]</b> It would be nice not to deserialize every fit in the history
upon import, instead deserialize the first time it is needed
</li>
<li>
<b>[X]</b> Restoring an historical fit does not sensibly preserve order,
fom numbering, etc
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> History plot tool is quite broken.  Need to make it work with
new grab method (i.e. partial deserialization).  The deeper
problem is that data from each fit are not themselves
deserialized into distinct objects with distinct group names.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Reorganize lists, move individual items up and down, move
blocks up and down, Path list, <del>Plot list</del>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> do SSPaths get serialized and deserialized with the pointers
to the feff calculation set correctly and no additional
folders being created in stash (as was the case for FSPath)?
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> per-data set R-factor reporting in log file is turned off.
see fit<sub>parameter</sub><sub>report</sub> in Demeter::Data::I0
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> implementing derivative of phase plotting would require
proper handling of this signal in the bkg, residual, and
running R-factor plots.  Also probably want to disallow it
for R123 plots.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> better way of moving an empirical standard from Athena to
Artemis &ndash; should be able to import it directly from the
athena project file.
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Eric says: "if u use the automatic choice of parameters for
the paths, in combination with a few quick first shell models
and an imported feff.inp the whole thing runs in trouble. I
don't really expect name collisions, but it seems to loose
track between all the feff runs."  <i>This is a bit unclear&hellip;</i>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Andreas Voegelin's idea about mixed Feff/empicial standards
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Path drag and drop [0/3]
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> DND of an SSPath does not work correctly
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> DND of FPath also broken
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> DND of selection (currently only one at a time)

</li>
</ul>
</li>
<li id="sec-1.8.1.1">Project [2/7] <br/>
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> VPaths to/from project file
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> SSPaths not saved/restored properly
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Indicators to/from project file
</li>
<li>
<b>[X]</b> Imported project file does not correctly set path-like tab
</li>
<li>
<b>[X]</b> replacing data in a project does not work
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> does autosave file work as intended?
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> GDS objects get created with same groupname over and over as
they are used in fits in the history

</li>
</ul>
</li>
<li id="sec-1.8.1.2">Advanced fitting <br/>
<ul>
<li id="sec-1.8.1.2.1">MFC [0/1] <br/>
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Balance interstitial energies for MFC fits
</li>
</ul>
</li>
<li id="sec-1.8.1.2.2">MDS &amp; Fit Sequence [1/3] <br/>
<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Import mutiple data sets from an Athena project file
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> feffit.inp import: needs testing; MDS that is not merely MKW
</li>
<li>
[-] Clone data sets such that the path list gets replicated efficiently (i.e. for MDS fits)


</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li id="sec-1.8.2">Histograms [11/14] [78%] <br/>
<ul>
<li>
<b>[X]</b> sum histogram bins into a single chi(k) file
</li>
<li>
<b>[X]</b> convert chi(k) data to a mock feffNNNN.dat file
</li>
<li>
<b>[X]</b> Triangle object
<ul>
<li>
yields a DS path and a TS path
</li>
<li>
by R and theta
</li>
<li>
<del>by a trio of Cartesian coordinates</del>
</li>
</ul>
</li>
<li>
<b>[X]</b> bin nealy colinear configurations by R and theta and sum into a single chi(k)
</li>
<li>
<b>[X]</b> turn SS histogram into a rattle TS histogram
</li>
<li>
<b>[X]</b> three-body histogram from X &ndash; [+] &ndash; X configurations
</li>
<li>
<b>[X]</b> error check numbers before making histograms in Artemis.  it is possible to have value like "3.3."
</li>
<li>
<b>[X]</b> ipot=1 is hardwired in many places &ndash; generalize&hellip;. <i>fixed for SS, same should work for NCL and Thru</i>
</li>
<li>
<b>[X]</b> scatter plot of ncl distribution
</li>
<li>
<b>[X]</b> factor out DLPOLY dependence into a role so that other MD packages can be added more easily
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> LAMMPS
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> triangle histogram
</li>
<li>
[-] <b>Error checking</b> in Artemis, e.g. check that there is at least one bin in the supplied range(s)
<ul>
<li>
<b>[X]</b> SS
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> ncl
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> thru
</li>
</ul>
</li>
<li>
<b>[X]</b> Need flags for when to 
<ul>
<li>
<b>[X]</b> re-read the MD output file
</li>
<li>
<b>[X]</b> re-parse the time steps
</li>
<li>
<b>[X]</b> re-do the binning

</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

</div>

<div id="outline-container-1.9" class="outline-3">
<h3 id="sec-1.9"><span class="section-number-3">1.9</span> Hephaestus </h3>
<div class="outline-text-3" id="text-1.9">

<p>More standards!!
</p>
</div>

</div>

<div id="outline-container-1.10" class="outline-3">
<h3 id="sec-1.10"><span class="section-number-3">1.10</span> Other object types [0/3] </h3>
<div class="outline-text-3" id="text-1.10">

<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Structural Units
<ul>
<li>
Extension of VPath.  
</li>
<li>
Store GDS, feff, and path objects in a zip file.
</li>
<li>
On import, mark GDS parameters as merge if in conflict
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> MSPaths
<ul>
<li>
Much like SSPath, make an arbitrary n-legged path
</li>
</ul>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Nearly collinear paths
<ul>
<li>
Define a three body configuration, generate its 4-legged path and a sequence of three-legged paths along with a mixing parameter.
</li>
<li>
It will take a single set of path parameters that are pushed onto the generated Path objects, except for the amplitude, which will be computed from the mixing parameter.
</li>
<li>
This is a single object for the user to interact with which expands into 2 or 3 3-legged paths and a single 4-legged path



</li>
</ul>
</li>
</ul>
</div>

</div>

<div id="outline-container-1.11" class="outline-3">
<h3 id="sec-1.11"><span class="section-number-3">1.11</span> Windows </h3>
<div class="outline-text-3" id="text-1.11">

<ul>
<li id="sec-1.11.1"><span class="done DONE"> DONE</span> non-ascii symbols <br/>
</li>
<li id="sec-1.11.2"><span class="done DONE"> DONE</span> Fix <a href="lib/Demeter/UI/Wx/CheckListBook.pm">CheckListBook</a> <br/>
The solution is shown at the end of Athena.pm.  Define new methods for
CheckBoxList which maintain an indexed list of groups rather than relying
upon client data, which simply doesn't work on Windows.


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Atoms and Feff </h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2.1" class="outline-3">
<h3 id="sec-2.1"><span class="section-number-3">2.1</span> CIF [0/3] [0%] </h3>
<div class="outline-text-3" id="text-2.1">

<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> CIF issue: CIF file with "<sub>eof</sub>" token at end of file, as in <a href="notes/H16PW12O46.cif">this cif file</a>
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> Handle CIF import problems more gracefully (See Shelly's other email from 17 June 2011)
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> CIF errors are not handled gracefully (e.g. multiple occupancy)

</li>
</ul>
</div>

</div>

<div id="outline-container-2.2" class="outline-3">
<h3 id="sec-2.2"><span class="section-number-3">2.2</span> Atoms [3/6] [50%] </h3>
<div class="outline-text-3" id="text-2.2">

<ul>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> 2 sites at the same position with occupancies &lt;1.  see file above for an example
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> George Sterbinsky's recent mailing list post that turned out to be about 
atoms' sphere and rhomboid in a non-orthogonal group
</li>
<li>
<b>[<span style="visibility:hidden;">X</span>]</b> very confusing error message when core is not a tag
</li>
<li>
<b>[X]</b> Shell tags in the feff.inp ATOMS list
</li>
<li>
<b>[X]</b> Rhombic groups seem not be handled properly.  This example fails to generate a subshell of 3 atoms at ~1.9A
<pre class="example">
title name:     Fe2O3  hematite
space  R -3 c
a    = 5.0380        b    = 5.0380   c    = 13.7720
rmax = 6.00  core = Fe1
atom
  Fe     0.00000   0.00000   0.35530  Fe1
  O      0.30590   0.00000   0.25000  O1
</pre>

</li>
<li>
<b>[X]</b> This input data fails
<pre class="example">
title formula:  LaCoO3
title refer1:  PRB V. 66 P. 094408 (2002)
title notes:   T = 300 K
space  r -3 c
a = 5.44864       c = 13.1035
rmax = 6.00       core = Co1
atom
  Co     0.00000   0.00000   0.00000  Co1
  La     0.00000   0.00000   0.25000  La1
  O      0.55032   0.00000   0.25000  O1
</pre>



</li>
</ul>
</div>

</div>

<div id="outline-container-2.3" class="outline-3">
<h3 id="sec-2.3"><span class="section-number-3">2.3</span> Feff </h3>
<div class="outline-text-3" id="text-2.3">


<ul>
<li id="sec-2.3.1">Feff8 is unsupported except as an Atoms output type <br/>

</li>
<li id="sec-2.3.2">Five and six legged paths <br/>
<a href="examples/h12213.cif">This CIF file</a> is an example of a structure that has five and six
legged nearly collinear scattering paths at around 4 Angstroms.  It
has metal atoms bridged by cyanide (CN).


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Ifeffit </h2>
<div class="outline-text-2" id="text-3">


<p>
In file <code>src/lib/iff_show.f</code>, change line 431 from 
</p>
<pre class="example">
    character*(*) s, t , messg*256
</pre>


<p>
to
</p>
<pre class="example">
    character*(*) s, t , messg*1024
</pre>


<p>
Also need to specify locations of CL data and phase shift tables via
an ENV variable
</p>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Weird stuff I'd prefer not to implement unless demanded </h2>
<div class="outline-text-2" id="text-4">

<ol>
<li>
xfit output (only used by women who glow and men who plunder)
</li>
<li>
csv and text report (excel <b>is</b> implemented)
</li>
<li>
point finder (this was Shelly's request)
</li>
<li>
session defaults (did anyone but me actually use these?)
</li>
<li>
set to standard (i.e. the one that is marked) &ndash; confusing and
little used
</li>
<li>
tie relative energy value to changes in E0 (this was something
Jeremy requested originally)
</li>
<li>
set e0 by algorithm for all and marked &ndash; also confusing and
little used
</li>
<li>
plot margin lines for deglitching, deglitch many points (this was
something that was most useful for a timing problem at 10ID that
no longer exists)
</li>
<li>
preprocessing truncation and deglitching (truncation might be
worth implementing)

</li>
</ol>
</div>
</div>
<div id="postamble">
<p class="author"> Author: Bruce Ravel
<a href="mailto:bravel AT bnl DOT gov">&lt;bravel AT bnl DOT gov&gt;</a>
</p>
<p class="date"> Date: 2012-04-03 16:36:07 EDT</p>
<p class="creator">HTML generated by org-mode 6.33x in emacs 23</p>
</div>
</div>
</body>
</html>
